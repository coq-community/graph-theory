<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Setoids.Setoid.html#"><span class="id" title="library">Setoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.all_ssreflect.html#"><span class="id" title="library">all_ssreflect</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GraphTheory.edone.html#"><span class="id" title="library">edone</span></a> <a class="idref" href="GraphTheory.preliminaries.html#"><span class="id" title="library">preliminaries</span></a> <a class="idref" href="GraphTheory.bij.html#"><span class="id" title="library">bij</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GraphTheory.setoid_bigop.html#"><span class="id" title="library">setoid_bigop</span></a> <a class="idref" href="GraphTheory.structures.html#"><span class="id" title="library">structures</span></a> <a class="idref" href="GraphTheory.mgraph.html#"><span class="id" title="library">mgraph</span></a> <a class="idref" href="GraphTheory.pttdom.html#"><span class="id" title="library">pttdom</span></a> <a class="idref" href="GraphTheory.mgraph2.html#"><span class="id" title="library">mgraph2</span></a> <a class="idref" href="GraphTheory.rewriting.html#"><span class="id" title="library">rewriting</span></a> <a class="idref" href="GraphTheory.reduction.html#"><span class="id" title="library">reduction</span></a> <a class="idref" href="GraphTheory.open_confluence.html#"><span class="id" title="library">open_confluence</span></a> <a class="idref" href="GraphTheory.transfer.html#"><span class="id" title="library">transfer</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Printing</span> <span class="id" title="keyword">Implicit</span> <span class="id" title="var">Defensive</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Bullet</span> <span class="id" title="var">Behavior</span> "Strict Subproofs".<br/>

<br/>
</div>

<div class="doc">
<a id="lab158"></a><h1 class="section">Completeness of the 2pdom axioms</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="s" class="idref" href="#s"><span class="id" title="section">s</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a id="s.A" class="idref" href="#s.A"><span class="id" title="variable">A</span></a>: <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="term" class="idref" href="#term"><span class="id" title="abbreviation">term</span></a> := (<a class="idref" href="GraphTheory.pttdom.html#term"><span class="id" title="inductive">pttdom.term</span></a> <a class="idref" href="GraphTheory.completeness.html#s.A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="nterm" class="idref" href="#nterm"><span class="id" title="abbreviation">nterm</span></a> := (<a class="idref" href="GraphTheory.pttdom.html#nterm"><span class="id" title="inductive">pttdom.nterm</span></a> <a class="idref" href="GraphTheory.completeness.html#s.A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="test" class="idref" href="#test"><span class="id" title="abbreviation">test</span></a> := (<a class="idref" href="GraphTheory.pttdom.html#test"><span class="id" title="record">test</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d"><span class="id" title="notation">the</span></a> <a class="idref" href="GraphTheory.pttdom.html#pttdom"><span class="id" title="abbreviation">pttdom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d"><span class="id" title="notation">of</span></a> <a class="idref" href="GraphTheory.completeness.html#term"><span class="id" title="abbreviation">term</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d"><span class="id" title="notation">]</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="tgraph2" class="idref" href="#tgraph2"><span class="id" title="abbreviation">tgraph2</span></a> := (<a class="idref" href="GraphTheory.mgraph2.html#graph2"><span class="id" title="record">graph2</span></a> <a class="idref" href="GraphTheory.completeness.html#test"><span class="id" title="abbreviation">test</span></a> <a class="idref" href="GraphTheory.completeness.html#term"><span class="id" title="abbreviation">term</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="graph" class="idref" href="#graph"><span class="id" title="abbreviation">graph</span></a> := (<a class="idref" href="GraphTheory.mgraph.html#graph"><span class="id" title="record">graph</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> (<a class="idref" href="GraphTheory.setoid_bigop.html#flat"><span class="id" title="definition">flat</span></a> <a class="idref" href="GraphTheory.completeness.html#s.A"><span class="id" title="variable">A</span></a>)).<br/>
<span class="id" title="keyword">Notation</span> <a id="graph2" class="idref" href="#graph2"><span class="id" title="abbreviation">graph2</span></a> := (<a class="idref" href="GraphTheory.mgraph2.html#graph2"><span class="id" title="record">graph2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> (<a class="idref" href="GraphTheory.setoid_bigop.html#flat"><span class="id" title="definition">flat</span></a> <a class="idref" href="GraphTheory.completeness.html#s.A"><span class="id" title="variable">A</span></a>)).<br/>
<span class="id" title="keyword">Notation</span> <a id="step" class="idref" href="#step"><span class="id" title="abbreviation">step</span></a> := (@<a class="idref" href="GraphTheory.rewriting.html#step"><span class="id" title="inductive">step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d"><span class="id" title="notation">the</span></a> <a class="idref" href="GraphTheory.pttdom.html#pttdom"><span class="id" title="abbreviation">pttdom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d"><span class="id" title="notation">of</span></a> <a class="idref" href="GraphTheory.completeness.html#term"><span class="id" title="abbreviation">term</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d"><span class="id" title="notation">]</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="steps" class="idref" href="#steps"><span class="id" title="abbreviation">steps</span></a> := (@<a class="idref" href="GraphTheory.rewriting.html#steps"><span class="id" title="inductive">steps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d"><span class="id" title="notation">the</span></a> <a class="idref" href="GraphTheory.pttdom.html#pttdom"><span class="id" title="abbreviation">pttdom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d"><span class="id" title="notation">of</span></a> <a class="idref" href="GraphTheory.completeness.html#term"><span class="id" title="abbreviation">term</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d"><span class="id" title="notation">]</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;local&nbsp;confluence&nbsp;of&nbsp;the&nbsp;additive,&nbsp;packaged&nbsp;system&nbsp;(Proposition&nbsp;8.1)&nbsp;*)</span><br/>
<span class="id" title="keyword">Proposition</span> <a id="local_confluence" class="idref" href="#local_confluence"><span class="id" title="lemma">local_confluence</span></a> <a id="G:2" class="idref" href="#G:2"><span class="id" title="binder">G</span></a> <a id="G':3" class="idref" href="#G':3"><span class="id" title="binder">G'</span></a> <a id="H:4" class="idref" href="#H:4"><span class="id" title="binder">H</span></a> <a id="H':5" class="idref" href="#H':5"><span class="id" title="binder">H'</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GraphTheory.completeness.html#step"><span class="id" title="abbreviation">step</span></a> <a class="idref" href="GraphTheory.completeness.html#G:2"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.completeness.html#G':3"><span class="id" title="variable">G'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.completeness.html#step"><span class="id" title="abbreviation">step</span></a> <a class="idref" href="GraphTheory.completeness.html#H:4"><span class="id" title="variable">H</span></a> <a class="idref" href="GraphTheory.completeness.html#H':5"><span class="id" title="variable">H'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.completeness.html#G:2"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">≃2</span></a><a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">p</span></a> <a class="idref" href="GraphTheory.completeness.html#H:4"><span class="id" title="variable">H</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="F:6" class="idref" href="#F:6"><span class="id" title="binder">F</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="GraphTheory.completeness.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="GraphTheory.completeness.html#G':3"><span class="id" title="variable">G'</span></a> <a class="idref" href="GraphTheory.completeness.html#F:6"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="GraphTheory.completeness.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="GraphTheory.completeness.html#H':5"><span class="id" title="variable">H'</span></a> <a class="idref" href="GraphTheory.completeness.html#F:6"><span class="id" title="variable">F</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;by&nbsp;transferring&nbsp;local&nbsp;confluence&nbsp;of&nbsp;open&nbsp;steps&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">GG</span> <span class="id" title="var">HH</span> [<span class="id" title="var">GH</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.transfer.html#ostep_of"><span class="id" title="lemma">ostep_of</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GG</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U</span> [[<span class="id" title="var">sGU</span>] [<span class="id" title="var">UG'</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.transfer.html#ostep_of"><span class="id" title="lemma">ostep_of</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">V</span> [[<span class="id" title="var">sHV</span>] [<span class="id" title="var">VH'</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.transfer.html#oiso_of"><span class="id" title="lemma">oiso_of</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="GraphTheory.transfer.html#ostep_iso"><span class="id" title="lemma">ostep_iso</span></a> <span class="id" title="var">sGU</span> <span class="id" title="var">GH</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">W</span> [<span class="id" title="var">sHW</span> <span class="id" title="var">UW</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">fun</span> <a id="HF:8" class="idref" href="#HF:8"><span class="id" title="binder">HF</span></a> =&gt; <a class="idref" href="GraphTheory.open_confluence.html#local_confluence"><span class="id" title="lemma">local_confluence</span></a> <a class="idref" href="GraphTheory.completeness.html#HF:7"><span class="id" title="variable">HF</span></a> <span class="id" title="var">sHV</span> <span class="id" title="var">sHW</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> [<span class="id" title="var">sVT</span> <span class="id" title="var">sWT</span>]]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">GH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">gT</span>: <a class="idref" href="GraphTheory.open_confluence.html#is_graph"><span class="id" title="class">is_graph</span></a> <span class="id" title="var">T</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="GraphTheory.open_confluence.html#osteps_graph"><span class="id" title="lemma">osteps_graph</span></a>, <span class="id" title="var">sWT</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">UW</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">gU</span>: <a class="idref" href="GraphTheory.open_confluence.html#is_graph"><span class="id" title="class">is_graph</span></a> <span class="id" title="var">U</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">UW</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">gV</span>: <a class="idref" href="GraphTheory.open_confluence.html#is_graph"><span class="id" title="class">is_graph</span></a> <span class="id" title="var">V</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">VH'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">gW</span>: <a class="idref" href="GraphTheory.open_confluence.html#is_graph"><span class="id" title="class">is_graph</span></a> <span class="id" title="var">W</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">UW</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="GraphTheory.transfer.html#steps_of"><span class="id" title="lemma">steps_of</span></a> <span class="id" title="var">gV</span> <span class="id" title="var">gT</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">sVT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="GraphTheory.transfer.html#steps_of"><span class="id" title="lemma">steps_of</span></a> <span class="id" title="var">gW</span> <span class="id" title="var">gT</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">sWT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="GraphTheory.transfer.html#pack"><span class="id" title="definition">pack</span></a> <span class="id" title="var">T</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">transitivity</span> (<a class="idref" href="GraphTheory.transfer.html#pack"><span class="id" title="definition">pack</span></a> <span class="id" title="var">W</span>)=&gt;//. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#iso_step"><span class="id" title="constructor">iso_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.transfer.html#openK"><span class="id" title="lemma">openK</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.transfer.html#iso_of_oiso"><span class="id" title="lemma">iso_of_oiso</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="GraphTheory.transfer.html#oiso2_trans"><span class="id" title="lemma">oiso2_trans</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.transfer.html#oiso2_sym"><span class="id" title="lemma">oiso2_sym</span></a>. <span class="id" title="var">eassumption</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">transitivity</span> (<a class="idref" href="GraphTheory.transfer.html#pack"><span class="id" title="definition">pack</span></a> <span class="id" title="var">V</span>)=&gt;//. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#iso_step"><span class="id" title="constructor">iso_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.transfer.html#openK"><span class="id" title="lemma">openK</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.transfer.html#iso_of_oiso"><span class="id" title="lemma">iso_of_oiso</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.transfer.html#oiso2_sym"><span class="id" title="lemma">oiso2_sym</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="measure" class="idref" href="#measure"><span class="id" title="definition">measure</span></a> (<a id="G:9" class="idref" href="#G:9"><span class="id" title="binder">G</span></a>: <a class="idref" href="GraphTheory.completeness.html#tgraph2"><span class="id" title="abbreviation">tgraph2</span></a>) := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="GraphTheory.mgraph.html#vertex"><span class="id" title="projection">vertex</span></a> <a class="idref" href="GraphTheory.completeness.html#G:9"><span class="id" title="variable">G</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="GraphTheory.mgraph.html#edge"><span class="id" title="projection">edge</span></a> <a class="idref" href="GraphTheory.completeness.html#G:9"><span class="id" title="variable">G</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="step_decreases" class="idref" href="#step_decreases"><span class="id" title="lemma">step_decreases</span></a> <a id="G:10" class="idref" href="#G:10"><span class="id" title="binder">G</span></a> <a id="H:11" class="idref" href="#H:11"><span class="id" title="binder">H</span></a>: <a class="idref" href="GraphTheory.completeness.html#step"><span class="id" title="abbreviation">step</span></a> <a class="idref" href="GraphTheory.completeness.html#G:10"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.completeness.html#H:11"><span class="id" title="variable">H</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.completeness.html#measure"><span class="id" title="definition">measure</span></a> <a class="idref" href="GraphTheory.completeness.html#H:11"><span class="id" title="variable">H</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="GraphTheory.completeness.html#measure"><span class="id" title="definition">measure</span></a> <a class="idref" href="GraphTheory.completeness.html#G:10"><span class="id" title="variable">G</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="GraphTheory.completeness.html#measure"><span class="id" title="definition">measure</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>; <span class="id" title="tactic">intros</span>=&gt;/=; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_option"><span class="id" title="lemma">card_option</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_sum"><span class="id" title="lemma">card_sum</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_unit"><span class="id" title="lemma">card_unit</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_void"><span class="id" title="lemma">card_void</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addSnnS"><span class="id" title="lemma">addSnnS</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addnS"><span class="id" title="lemma">addnS</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addn0"><span class="id" title="lemma">addn0</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="iso_stagnates" class="idref" href="#iso_stagnates"><span class="id" title="lemma">iso_stagnates</span></a> (<a id="G:12" class="idref" href="#G:12"><span class="id" title="binder">G</span></a> <a id="H:13" class="idref" href="#H:13"><span class="id" title="binder">H</span></a> : <a class="idref" href="GraphTheory.completeness.html#tgraph2"><span class="id" title="abbreviation">tgraph2</span></a>) : <a class="idref" href="GraphTheory.completeness.html#G:12"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">≃2</span></a><a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">p</span></a> <a class="idref" href="GraphTheory.completeness.html#H:13"><span class="id" title="variable">H</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.completeness.html#measure"><span class="id" title="definition">measure</span></a> <a class="idref" href="GraphTheory.completeness.html#H:13"><span class="id" title="variable">H</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GraphTheory.completeness.html#measure"><span class="id" title="definition">measure</span></a> <a class="idref" href="GraphTheory.completeness.html#G:12"><span class="id" title="variable">G</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">case</span>. <span class="id" title="tactic">move</span>=&gt;[<span class="id" title="var">l</span> <span class="id" title="var">_</span>]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="GraphTheory.completeness.html#measure"><span class="id" title="definition">measure</span></a> (<a class="idref" href="GraphTheory.bij.html#card_bij"><span class="id" title="lemma">card_bij</span></a> (<a class="idref" href="GraphTheory.mgraph.html#iso_v"><span class="id" title="projection">iso_v</span></a> <span class="id" title="var">l</span>)) (<a class="idref" href="GraphTheory.bij.html#card_bij"><span class="id" title="lemma">card_bij</span></a> (<a class="idref" href="GraphTheory.mgraph.html#iso_e"><span class="id" title="projection">iso_e</span></a> <span class="id" title="var">l</span>)). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;confluence,&nbsp;via&nbsp;appropriate&nbsp;variant&nbsp;of&nbsp;Newman's&nbsp;lemma&nbsp;&nbsp;*)</span><br/>
<span class="id" title="keyword">Proposition</span> <a id="confluence" class="idref" href="#confluence"><span class="id" title="lemma">confluence</span></a> <a id="F:14" class="idref" href="#F:14"><span class="id" title="binder">F</span></a>: <span class="id" title="keyword">forall</span> <a id="G:15" class="idref" href="#G:15"><span class="id" title="binder">G</span></a> <a id="H:16" class="idref" href="#H:16"><span class="id" title="binder">H</span></a>, <a class="idref" href="GraphTheory.completeness.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="GraphTheory.completeness.html#F:14"><span class="id" title="variable">F</span></a> <a class="idref" href="GraphTheory.completeness.html#G:15"><span class="id" title="variable">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.completeness.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="GraphTheory.completeness.html#F:14"><span class="id" title="variable">F</span></a> <a class="idref" href="GraphTheory.completeness.html#H:16"><span class="id" title="variable">H</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="F':17" class="idref" href="#F':17"><span class="id" title="binder">F'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="GraphTheory.completeness.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="GraphTheory.completeness.html#G:15"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.completeness.html#F':17"><span class="id" title="variable">F'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="GraphTheory.completeness.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="GraphTheory.completeness.html#H:16"><span class="id" title="variable">H</span></a> <a class="idref" href="GraphTheory.completeness.html#F':17"><span class="id" title="variable">F'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">F</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">F_</span> <span class="id" title="var">IH</span>] <span class="id" title="keyword">using</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Wf.html#well_founded_induction_type"><span class="id" title="lemma">well_founded_induction_type</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Arith.Wf_nat.html#well_founded_ltof"><span class="id" title="lemma">Wf_nat.well_founded_ltof</span></a> <span class="id" title="var">_</span> <a class="idref" href="GraphTheory.completeness.html#measure"><span class="id" title="definition">measure</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">S</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">S</span> <span class="id" title="var">IH</span> =&gt; <span class="id" title="var">_</span> <span class="id" title="var">H</span> [<span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">FG</span>|<span class="id" title="var">F__</span> <span class="id" title="var">F0</span> <span class="id" title="var">G'</span> <span class="id" title="var">G</span> <span class="id" title="var">FF0</span> <span class="id" title="var">FG</span> <span class="id" title="var">GG</span>] <span class="id" title="var">IH</span> <span class="id" title="var">FH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span>=&gt;//. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#inhabits"><span class="id" title="constructor">inhabits</span></a> <span class="id" title="var">FG</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span> <a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">≃2</span></a><a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">p</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>: <span class="id" title="var">H</span> <span class="id" title="var">FH</span> <span class="id" title="var">IH</span> <span class="id" title="var">FF0</span>=&gt; <span class="id" title="var">_</span> [<span class="id" title="var">F</span> <span class="id" title="var">H</span> <span class="id" title="var">FH</span>|<span class="id" title="var">F</span> <span class="id" title="var">F1</span> <span class="id" title="var">H'</span> <span class="id" title="var">H</span> <span class="id" title="var">FF1</span> <span class="id" title="var">FH</span> <span class="id" title="var">HH</span>] <span class="id" title="var">IH</span> <span class="id" title="var">FF0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">G</span>; <span class="id" title="tactic">split</span>=&gt;//. <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#inhabits"><span class="id" title="constructor">inhabits</span></a> <span class="id" title="var">FH</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span> <a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">≃2</span></a><a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">p</span></a> <span class="id" title="var">_</span>). <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="GraphTheory.rewriting.html#cons_step"><span class="id" title="constructor">cons_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="GraphTheory.completeness.html#local_confluence"><span class="id" title="lemma">local_confluence</span></a> <span class="id" title="var">FG</span> <span class="id" title="var">FH</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">M</span>[<span class="id" title="var">GM</span> <span class="id" title="var">HM</span>]]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#inhabits"><span class="id" title="constructor">inhabits</span></a> <span class="id" title="var">FF0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span> <a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">≃2</span></a><a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">p</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">fun</span> <a id="D:19" class="idref" href="#D:19"><span class="id" title="binder">D</span></a> =&gt; <span class="id" title="var">IH</span> <span class="id" title="var">G'</span> <a class="idref" href="GraphTheory.completeness.html#D:18"><span class="id" title="variable">D</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">GG</span> <span class="id" title="var">GM</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">L</span>[<span class="id" title="var">GL</span> <span class="id" title="var">ML</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Arith.Wf_nat.html#ltof"><span class="id" title="definition">Wf_nat.ltof</span></a> -(<a class="idref" href="GraphTheory.completeness.html#iso_stagnates"><span class="id" title="lemma">iso_stagnates</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#inhabits"><span class="id" title="constructor">inhabits</span></a> <span class="id" title="var">FF0</span>)). <span class="id" title="tactic">apply</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltP"><span class="id" title="lemma">ltP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.completeness.html#step_decreases"><span class="id" title="lemma">step_decreases</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">HL</span>: <a class="idref" href="GraphTheory.completeness.html#steps"><span class="id" title="abbreviation">steps</span></a> <span class="id" title="var">H'</span> <span class="id" title="var">L</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">transitivity</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">fun</span> <a id="D:21" class="idref" href="#D:21"><span class="id" title="binder">D</span></a> =&gt; <span class="id" title="var">IH</span> <span class="id" title="var">H'</span> <a class="idref" href="GraphTheory.completeness.html#D:20"><span class="id" title="variable">D</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HL</span> <span class="id" title="var">HH</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">R</span>[<span class="id" title="var">LR</span> <span class="id" title="var">HR</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Arith.Wf_nat.html#ltof"><span class="id" title="definition">Wf_nat.ltof</span></a> -(<a class="idref" href="GraphTheory.completeness.html#iso_stagnates"><span class="id" title="lemma">iso_stagnates</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#inhabits"><span class="id" title="constructor">inhabits</span></a> <span class="id" title="var">FF1</span>)). <span class="id" title="tactic">apply</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltP"><span class="id" title="lemma">ltP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.completeness.html#step_decreases"><span class="id" title="lemma">step_decreases</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">R</span>. <span class="id" title="tactic">split</span>=&gt;//. <span class="id" title="tactic">by</span> <span class="id" title="tactic">transitivity</span> <span class="id" title="var">L</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;graphs&nbsp;of&nbsp;normal&nbsp;forms&nbsp;are&nbsp;in&nbsp;normal&nbsp;form&nbsp;(i.e.,&nbsp;can't&nbsp;reduce)&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="normal_steps" class="idref" href="#normal_steps"><span class="id" title="lemma">normal_steps</span></a> <a id="s:22" class="idref" href="#s:22"><span class="id" title="binder">s</span></a>: <span class="id" title="keyword">forall</span> <a id="H:23" class="idref" href="#H:23"><span class="id" title="binder">H</span></a> : <a class="idref" href="GraphTheory.completeness.html#tgraph2"><span class="id" title="abbreviation">tgraph2</span></a> , <a class="idref" href="GraphTheory.completeness.html#steps"><span class="id" title="abbreviation">steps</span></a> (<a class="idref" href="GraphTheory.reduction.html#tgraph_of_nterm"><span class="id" title="definition">tgraph_of_nterm</span></a> <a class="idref" href="GraphTheory.completeness.html#s:22"><span class="id" title="variable">s</span></a>) <a class="idref" href="GraphTheory.completeness.html#H:23"><span class="id" title="variable">H</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#tgraph_of_nterm"><span class="id" title="definition">tgraph_of_nterm</span></a> <a class="idref" href="GraphTheory.completeness.html#s:22"><span class="id" title="variable">s</span></a> <a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">≃2</span></a><a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">p</span></a> <a class="idref" href="GraphTheory.completeness.html#H:23"><span class="id" title="variable">H</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">suff</span> <span class="id" title="var">E</span>: <span class="id" title="keyword">forall</span> <a id="G:24" class="idref" href="#G:24"><span class="id" title="binder">G</span></a> <a id="H:25" class="idref" href="#H:25"><span class="id" title="binder">H</span></a>, <a class="idref" href="GraphTheory.completeness.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="GraphTheory.completeness.html#G:24"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.completeness.html#H:25"><span class="id" title="variable">H</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.completeness.html#G:24"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">≃2</span></a><a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">p</span></a> <a class="idref" href="GraphTheory.reduction.html#tgraph_of_nterm"><span class="id" title="definition">tgraph_of_nterm</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.completeness.html#G:24"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">≃2</span></a><a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">p</span></a> <a class="idref" href="GraphTheory.completeness.html#H:25"><span class="id" title="variable">H</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">E</span>=&gt;//; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> 1 <span class="id" title="keyword">as</span> [<span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">I</span>|<span class="id" title="var">G'</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">H'</span> <span class="id" title="var">I</span> <span class="id" title="var">S</span> <span class="id" title="var">_</span>]=&gt;//<span class="id" title="var">L</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#inhabits"><span class="id" title="constructor">inhabits</span></a> <span class="id" title="var">I</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span> <a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">≃2</span></a><a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">p</span></a> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">S</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">L</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">L</span> <span class="id" title="var">Li</span> <span class="id" title="var">Lo</span>]]. <span class="id" title="tactic">generalize</span> (<a class="idref" href="GraphTheory.bij.html#card_bij"><span class="id" title="lemma">card_bij</span></a> (<a class="idref" href="GraphTheory.mgraph.html#iso_e"><span class="id" title="projection">iso_e</span></a> <span class="id" title="var">L</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">S</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; (<span class="id" title="tactic">try</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_option"><span class="id" title="lemma">card_option</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_sum"><span class="id" title="lemma">card_sum</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_unit"><span class="id" title="lemma">card_unit</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_void"><span class="id" title="lemma">card_void</span></a>); <span class="id" title="tactic">rewrite</span> /<a class="idref" href="GraphTheory.mgraph.html#unl"><span class="id" title="definition">unl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Li</span>, <span class="id" title="var">Lo</span>; <span class="id" title="tactic">move</span>=&gt;<span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">generalize</span> (<a class="idref" href="GraphTheory.bij.html#card_bij"><span class="id" title="lemma">card_bij</span></a> (<a class="idref" href="GraphTheory.mgraph.html#iso_v"><span class="id" title="projection">iso_v</span></a> <span class="id" title="var">L</span>)). <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_sum"><span class="id" title="lemma">card_sum</span></a> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_unit"><span class="id" title="lemma">card_unit</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addnC"><span class="id" title="lemma">addnC</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H</span>: 0 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><span class="id" title="var">G</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a>. <span class="id" title="tactic">apply</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_gt0P"><span class="id" title="lemma">card_gt0P</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">case</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><span class="id" title="var">G</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a>; <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">revert</span> <span class="id" title="var">Li</span> <span class="id" title="var">Lo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">suff</span> <span class="id" title="var">E</span>: <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf"><span class="id" title="notation">=</span></a><a class="idref" href="GraphTheory.mgraph2.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf"><span class="id" title="notation">:&gt;</span></a><span class="id" title="var">G</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/(<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_le1_eqP"><span class="id" title="lemma">card_le1_eqP</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.ssr.ssrbool.html#predT"><span class="id" title="definition">predT</span></a>)) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph.html#iso_v"><span class="id" title="projection">iso_v</span></a>, <a class="idref" href="GraphTheory.bij.html#card_bij"><span class="id" title="lemma">card_bij</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_sum"><span class="id" title="lemma">card_sum</span></a> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_unit"><span class="id" title="lemma">card_unit</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addnC"><span class="id" title="lemma">addnC</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">injection</span> <span class="id" title="var">L</span>=&gt;-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">have</span> <span class="id" title="var">E</span>: <span class="id" title="keyword">forall</span> <a id="y:26" class="idref" href="#y:26"><span class="id" title="binder">y</span></a>, <span class="id" title="var">L</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">L</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="GraphTheory.completeness.html#y:26"><span class="id" title="variable">y</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">generalize</span> (<a class="idref" href="GraphTheory.bij.html#bij_injective"><span class="id" title="lemma">bij_injective</span></a> (<span class="id" title="var">f</span>:=<span class="id" title="var">L</span>) <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="var">L</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)); <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">E</span> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">E</span> <a class="idref" href="GraphTheory.mgraph2.html#output"><span class="id" title="projection">output</span></a>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">generalize</span> (<a class="idref" href="GraphTheory.mgraph.html#endpoint_iso"><span class="id" title="lemma">endpoint_iso</span></a> <span class="id" title="var">L</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>). <span class="id" title="tactic">generalize</span> (<a class="idref" href="GraphTheory.mgraph.html#endpoint_iso"><span class="id" title="lemma">endpoint_iso</span></a> <span class="id" title="var">L</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H</span>: <span class="id" title="var">L.e</span> <a class="idref" href="GraphTheory.mgraph.html#:::x_'.e'"><span class="id" title="notation">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span> (<span class="id" title="var">L.e</span> <a class="idref" href="GraphTheory.mgraph.html#:::x_'.e'"><span class="id" title="notation">None</span></a>)=&gt;//; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">case</span> <span class="id" title="var">L.d</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;isomorphisms&nbsp;on&nbsp;graphs&nbsp;of&nbsp;normal&nbsp;forms&nbsp;give&nbsp;back&nbsp;equations&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="normal_iso" class="idref" href="#normal_iso"><span class="id" title="lemma">normal_iso</span></a> (<a id="s:27" class="idref" href="#s:27"><span class="id" title="binder">s</span></a> <a id="t:28" class="idref" href="#t:28"><span class="id" title="binder">t</span></a>: <a class="idref" href="GraphTheory.completeness.html#nterm"><span class="id" title="abbreviation">nterm</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="GraphTheory.reduction.html#tgraph_of_nterm"><span class="id" title="definition">tgraph_of_nterm</span></a> <a class="idref" href="GraphTheory.completeness.html#s:27"><span class="id" title="variable">s</span></a> <a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">≃2</span></a><a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">p</span></a> <a class="idref" href="GraphTheory.reduction.html#tgraph_of_nterm"><span class="id" title="definition">tgraph_of_nterm</span></a> <a class="idref" href="GraphTheory.completeness.html#t:28"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GraphTheory.pttdom.html#term_of_nterm"><span class="id" title="definition">term_of_nterm</span></a> <a class="idref" href="GraphTheory.completeness.html#s:27"><span class="id" title="variable">s</span></a> <a class="idref" href="GraphTheory.setoid_bigop.html#ab6f37a4479b45d501191f1ea21e4b71"><span class="id" title="notation">≡</span></a> <a class="idref" href="GraphTheory.pttdom.html#term_of_nterm"><span class="id" title="definition">term_of_nterm</span></a> <a class="idref" href="GraphTheory.completeness.html#t:28"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">s</span>=&gt;[<span class="id" title="var">a</span>|<span class="id" title="var">a</span> <span class="id" title="var">u</span> <span class="id" title="var">b</span>];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">t</span>=&gt;[<span class="id" title="var">c</span>|<span class="id" title="var">c</span> <span class="id" title="var">v</span> <span class="id" title="var">d</span>]=&gt;/=; <span class="id" title="tactic">move</span>=&gt; [[<span class="id" title="var">h</span> <span class="id" title="var">hi</span> <span class="id" title="var">ho</span>]].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="GraphTheory.mgraph.html#vlabel_iso"><span class="id" title="lemma">vlabel_iso</span></a> <span class="id" title="var">h</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="GraphTheory.bij.html#bijK'"><span class="id" title="projection">bijK'</span></a> <span class="id" title="var">h</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)). <span class="id" title="tactic">generalize</span> (<a class="idref" href="GraphTheory.bij.html#bijK'"><span class="id" title="projection">bijK'</span></a> <span class="id" title="var">h</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<span class="id" title="var">h</span><a class="idref" href="GraphTheory.bij.html#c5b6c502948bd09adba7ee361f950a1e"><span class="id" title="notation">^-1</span></a> <a class="idref" href="GraphTheory.bij.html#c5b6c502948bd09adba7ee361f950a1e"><span class="id" title="notation">(</span></a><a class="idref" href="GraphTheory.bij.html#c5b6c502948bd09adba7ee361f950a1e"><span class="id" title="notation">inr</span></a> <a class="idref" href="GraphTheory.bij.html#c5b6c502948bd09adba7ee361f950a1e"><span class="id" title="notation">tt</span></a><a class="idref" href="GraphTheory.bij.html#c5b6c502948bd09adba7ee361f950a1e"><span class="id" title="notation">)</span></a>). <span class="id" title="tactic">case</span> (<span class="id" title="var">h</span><a class="idref" href="GraphTheory.bij.html#c5b6c502948bd09adba7ee361f950a1e"><span class="id" title="notation">^-1</span></a> <a class="idref" href="GraphTheory.bij.html#c5b6c502948bd09adba7ee361f950a1e"><span class="id" title="notation">(</span></a><a class="idref" href="GraphTheory.bij.html#c5b6c502948bd09adba7ee361f950a1e"><span class="id" title="notation">inl</span></a> <a class="idref" href="GraphTheory.bij.html#c5b6c502948bd09adba7ee361f950a1e"><span class="id" title="notation">tt</span></a><a class="idref" href="GraphTheory.bij.html#c5b6c502948bd09adba7ee361f950a1e"><span class="id" title="notation">)</span></a>). <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="GraphTheory.bij.html#bijK"><span class="id" title="projection">bijK</span></a> <span class="id" title="var">h</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)). <span class="id" title="tactic">generalize</span> (<a class="idref" href="GraphTheory.bij.html#bijK"><span class="id" title="projection">bijK</span></a> <span class="id" title="var">h</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<span class="id" title="var">h</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)). <span class="id" title="tactic">case</span> (<span class="id" title="var">h</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)). <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<a class="idref" href="GraphTheory.mgraph.html#vlabel_iso"><span class="id" title="lemma">vlabel_iso</span></a> <span class="id" title="var">h</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="GraphTheory.mgraph.html#vlabel_iso"><span class="id" title="lemma">vlabel_iso</span></a> <span class="id" title="var">h</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">hi</span> <span class="id" title="var">ho</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="GraphTheory.mgraph.html#elabel_iso"><span class="id" title="lemma">elabel_iso</span></a> <span class="id" title="var">h</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="GraphTheory.mgraph.html#endpoint_iso"><span class="id" title="lemma">endpoint_iso</span></a> <span class="id" title="var">h</span> (<span class="id" title="var">h.d</span> <a class="idref" href="GraphTheory.mgraph.html#:::x_'.d'"><span class="id" title="notation">None</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H</span>: <span class="id" title="var">h.e</span> <a class="idref" href="GraphTheory.mgraph.html#:::x_'.e'"><span class="id" title="notation">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span> (<span class="id" title="var">h.e</span> <a class="idref" href="GraphTheory.mgraph.html#:::x_'.e'"><span class="id" title="notation">None</span></a>)=&gt;//; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">case</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="GraphTheory.mgraph.html#iso_d"><span class="id" title="projection">iso_d</span></a> <span class="id" title="var">h</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)=&gt;/=. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.pttdom.html#dot_eqv"><span class="id" title="definition">dot_eqv</span></a>=&gt;//. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.pttdom.html#dot_eqv"><span class="id" title="definition">dot_eqv</span></a>=&gt;//.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;transferring&nbsp;isomorphisms&nbsp;on&nbsp;letter-labeled&nbsp;graphs&nbsp;to&nbsp;term-labeled&nbsp;graphs&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="tgraph_graph" class="idref" href="#tgraph_graph"><span class="id" title="lemma">tgraph_graph</span></a> (<a id="u:29" class="idref" href="#u:29"><span class="id" title="binder">u</span></a>: <a class="idref" href="GraphTheory.completeness.html#term"><span class="id" title="abbreviation">term</span></a>): <br/>
&nbsp;&nbsp;<a class="idref" href="GraphTheory.reduction.html#tgraph_of_term"><span class="id" title="definition">tgraph_of_term</span></a> <a class="idref" href="GraphTheory.completeness.html#u:29"><span class="id" title="variable">u</span></a> <a class="idref" href="GraphTheory.mgraph2.html#8e44bd5a45796f7b75f6d56387c4c4fc"><span class="id" title="notation">≃2</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="GraphTheory.mgraph2.html#relabel2"><span class="id" title="definition">relabel2</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; 1%<span class="id" title="var">CM</span>) (<span class="id" title="keyword">fun</span> <a id="x:30" class="idref" href="#x:30"><span class="id" title="binder">x</span></a> : <a class="idref" href="GraphTheory.setoid_bigop.html#flat"><span class="id" title="definition">flat</span></a> <a class="idref" href="GraphTheory.completeness.html#s.A"><span class="id" title="variable">A</span></a> =&gt; <a class="idref" href="GraphTheory.pttdom.html#tm_var"><span class="id" title="constructor">pttdom.tm_var</span></a> <a class="idref" href="GraphTheory.completeness.html#x:30"><span class="id" title="variable">x</span></a>) (<a class="idref" href="GraphTheory.reduction.html#graph_of_term"><span class="id" title="definition">graph_of_term</span></a> <a class="idref" href="GraphTheory.completeness.html#u:29"><span class="id" title="variable">u</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> ? : 1%<span class="id" title="var">CM</span> <a class="idref" href="GraphTheory.setoid_bigop.html#ab6f37a4479b45d501191f1ea21e4b71"><span class="id" title="notation">≡</span></a> (1 <a class="idref" href="GraphTheory.structures.html#c11b60d97e1ef9ba754bb71125d7dcca"><span class="id" title="notation">⊗</span></a> 1)%<span class="id" title="var">CM</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">M</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.setoid_bigop.html#monU"><span class="id" title="method">monU</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">u</span>=&gt;/=.<br/>
&nbsp;&nbsp;- <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="GraphTheory.mgraph2.html#dot_iso2"><span class="id" title="instance">dot_iso2</span></a> <span class="id" title="var">IHu1</span> <span class="id" title="var">IHu2</span>). <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#relabel2_dot"><span class="id" title="lemma">relabel2_dot</span></a> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="GraphTheory.mgraph2.html#par_iso2"><span class="id" title="instance">par_iso2</span></a> <span class="id" title="var">IHu1</span> <span class="id" title="var">IHu2</span>). <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#relabel2_par"><span class="id" title="lemma">relabel2_par</span></a>=&gt;//.<br/>
&nbsp;&nbsp;- <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="GraphTheory.mgraph2.html#cnv_iso2"><span class="id" title="instance">cnv_iso2</span></a> <span class="id" title="var">IHu</span>). <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#relabel2_cnv"><span class="id" title="lemma">relabel2_cnv</span></a>=&gt;//.<br/>
&nbsp;&nbsp;- <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="GraphTheory.mgraph2.html#dom_iso2"><span class="id" title="instance">dom_iso2</span></a> <span class="id" title="var">IHu</span>). <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#relabel2_dom"><span class="id" title="lemma">relabel2_dom</span></a>=&gt;//.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#relabel2_one"><span class="id" title="lemma">relabel2_one</span></a>=&gt;//.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#relabel2_var"><span class="id" title="lemma">relabel2_var</span></a>=&gt;//.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Lemma&nbsp;5.3&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="tgraph_graph_iso" class="idref" href="#tgraph_graph_iso"><span class="id" title="lemma">tgraph_graph_iso</span></a> (<a id="u:31" class="idref" href="#u:31"><span class="id" title="binder">u</span></a> <a id="v:32" class="idref" href="#v:32"><span class="id" title="binder">v</span></a>: <a class="idref" href="GraphTheory.completeness.html#term"><span class="id" title="abbreviation">term</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="GraphTheory.reduction.html#graph_of_term"><span class="id" title="definition">graph_of_term</span></a> <a class="idref" href="GraphTheory.completeness.html#u:31"><span class="id" title="variable">u</span></a> <a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">≃2</span></a><a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">p</span></a> <a class="idref" href="GraphTheory.reduction.html#graph_of_term"><span class="id" title="definition">graph_of_term</span></a> <a class="idref" href="GraphTheory.completeness.html#v:32"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#tgraph_of_term"><span class="id" title="definition">tgraph_of_term</span></a> <a class="idref" href="GraphTheory.completeness.html#u:31"><span class="id" title="variable">u</span></a> <a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">≃2</span></a><a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">p</span></a> <a class="idref" href="GraphTheory.reduction.html#tgraph_of_term"><span class="id" title="definition">tgraph_of_term</span></a> <a class="idref" href="GraphTheory.completeness.html#v:32"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">h</span>]. <span class="id" title="tactic">exists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.completeness.html#tgraph_graph"><span class="id" title="lemma">tgraph_graph</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. 2: <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.completeness.html#tgraph_graph"><span class="id" title="lemma">tgraph_graph</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#relabel2_iso"><span class="id" title="instance">relabel2_iso</span></a>=&gt;//.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>=&gt;//=??/=-&gt;//.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
main completeness theorem 
</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="completeness" class="idref" href="#completeness"><span class="id" title="lemma">completeness</span></a> (<a id="u:33" class="idref" href="#u:33"><span class="id" title="binder">u</span></a> <a id="v:34" class="idref" href="#v:34"><span class="id" title="binder">v</span></a>: <a class="idref" href="GraphTheory.completeness.html#term"><span class="id" title="abbreviation">term</span></a>): <a class="idref" href="GraphTheory.reduction.html#graph_of_term"><span class="id" title="definition">graph_of_term</span></a> <a class="idref" href="GraphTheory.completeness.html#u:33"><span class="id" title="variable">u</span></a> <a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">≃2</span></a><a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">p</span></a> <a class="idref" href="GraphTheory.reduction.html#graph_of_term"><span class="id" title="definition">graph_of_term</span></a> <a class="idref" href="GraphTheory.completeness.html#v:34"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.completeness.html#u:33"><span class="id" title="variable">u</span></a> <a class="idref" href="GraphTheory.setoid_bigop.html#ab6f37a4479b45d501191f1ea21e4b71"><span class="id" title="notation">≡</span></a> <a class="idref" href="GraphTheory.completeness.html#v:34"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt;/<a class="idref" href="GraphTheory.completeness.html#tgraph_graph_iso"><span class="id" title="lemma">tgraph_graph_iso</span></a> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="GraphTheory.reduction.html#reduce"><span class="id" title="lemma">reduce</span></a> <span class="id" title="var">u</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H'</span> : <a class="idref" href="GraphTheory.completeness.html#steps"><span class="id" title="abbreviation">steps</span></a> (<a class="idref" href="GraphTheory.reduction.html#tgraph_of_term"><span class="id" title="definition">tgraph_of_term</span></a> <span class="id" title="var">u</span>) (<a class="idref" href="GraphTheory.reduction.html#tgraph_of_nterm"><span class="id" title="definition">tgraph_of_nterm</span></a> (<a class="idref" href="GraphTheory.pttdom.html#nt"><span class="id" title="definition">nt</span></a> <span class="id" title="var">v</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.reduction.html#reduce"><span class="id" title="lemma">reduce</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="GraphTheory.completeness.html#confluence"><span class="id" title="lemma">confluence</span></a> <span class="id" title="var">H</span> <span class="id" title="var">H'</span>)=&gt;<span class="id" title="var">F</span> [/<a class="idref" href="GraphTheory.completeness.html#normal_steps"><span class="id" title="lemma">normal_steps</span></a> <span class="id" title="var">HF</span> /<a class="idref" href="GraphTheory.completeness.html#normal_steps"><span class="id" title="lemma">normal_steps</span></a> <span class="id" title="var">HF'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>-&gt; (<a class="idref" href="GraphTheory.pttdom.html#nt_correct"><span class="id" title="lemma">nt_correct</span></a> <span class="id" title="var">u</span>), (<a class="idref" href="GraphTheory.pttdom.html#nt_correct"><span class="id" title="lemma">nt_correct</span></a> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.completeness.html#normal_iso"><span class="id" title="lemma">normal_iso</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HF'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
actually an iff since graphs from a 2pdom algebra 
</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="soundness_and_completeness" class="idref" href="#soundness_and_completeness"><span class="id" title="lemma">soundness_and_completeness</span></a> (<a id="u:35" class="idref" href="#u:35"><span class="id" title="binder">u</span></a> <a id="v:36" class="idref" href="#v:36"><span class="id" title="binder">v</span></a>: <a class="idref" href="GraphTheory.completeness.html#term"><span class="id" title="abbreviation">term</span></a>): <a class="idref" href="GraphTheory.reduction.html#graph_of_term"><span class="id" title="definition">graph_of_term</span></a> <a class="idref" href="GraphTheory.completeness.html#u:35"><span class="id" title="variable">u</span></a> <a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">≃2</span></a><a class="idref" href="GraphTheory.mgraph2.html#7b6283ccfbb92f0f2f73d942d922c7f2"><span class="id" title="notation">p</span></a> <a class="idref" href="GraphTheory.reduction.html#graph_of_term"><span class="id" title="definition">graph_of_term</span></a> <a class="idref" href="GraphTheory.completeness.html#v:36"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="GraphTheory.completeness.html#u:35"><span class="id" title="variable">u</span></a> <a class="idref" href="GraphTheory.setoid_bigop.html#ab6f37a4479b45d501191f1ea21e4b71"><span class="id" title="notation">≡</span></a> <a class="idref" href="GraphTheory.completeness.html#v:36"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> =&gt; [|<span class="id" title="var">uv</span>]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span>: <a class="idref" href="GraphTheory.completeness.html#completeness"><span class="id" title="lemma">completeness</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="GraphTheory.reduction.html#graph_of_term"><span class="id" title="definition">graph_of_term</span></a> <span class="id" title="var">u</span> <a class="idref" href="GraphTheory.setoid_bigop.html#ab6f37a4479b45d501191f1ea21e4b71"><span class="id" title="notation">≡</span></a> <a class="idref" href="GraphTheory.reduction.html#graph_of_term"><span class="id" title="definition">graph_of_term</span></a> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <span class="id" title="var">uv</span>. <span class="comment">(*&nbsp;graph_of_term&nbsp;is&nbsp;an&nbsp;evaluation&nbsp;w.r.t.&nbsp;a&nbsp;2pdom&nbsp;algebra&nbsp;*)</span><br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="GraphTheory.completeness.html#s"><span class="id" title="section">s</span></a>.<br/>

<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
