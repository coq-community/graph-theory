<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Setoids.Setoid.html#"><span class="id" title="library">Setoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.all_ssreflect.html#"><span class="id" title="library">all_ssreflect</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GraphTheory.edone.html#"><span class="id" title="library">edone</span></a> <a class="idref" href="GraphTheory.finite_quotient.html#"><span class="id" title="library">finite_quotient</span></a> <a class="idref" href="GraphTheory.preliminaries.html#"><span class="id" title="library">preliminaries</span></a> <a class="idref" href="GraphTheory.bij.html#"><span class="id" title="library">bij</span></a> <a class="idref" href="GraphTheory.equiv.html#"><span class="id" title="library">equiv</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GraphTheory.setoid_bigop.html#"><span class="id" title="library">setoid_bigop</span></a> <a class="idref" href="GraphTheory.structures.html#"><span class="id" title="library">structures</span></a> <a class="idref" href="GraphTheory.pttdom.html#"><span class="id" title="library">pttdom</span></a> <a class="idref" href="GraphTheory.mgraph.html#"><span class="id" title="library">mgraph</span></a> <a class="idref" href="GraphTheory.mgraph2.html#"><span class="id" title="library">mgraph2</span></a> <a class="idref" href="GraphTheory.rewriting.html#"><span class="id" title="library">rewriting</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Printing</span> <span class="id" title="keyword">Implicit</span> <span class="id" title="var">Defensive</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Bullet</span> <span class="id" title="var">Behavior</span> "Strict Subproofs".<br/>

<br/>
</div>

<div class="doc">
<a id="lab126"></a><h1 class="section">Reducibility for the rewrite system</h1>

<div class="paragraph"> </div>

<a id="lab127"></a><h2 class="section">Preliminary isomorphisms (on arbitrary graphs)</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="prelim" class="idref" href="#prelim"><span class="id" title="section">prelim</span></a>.<br/>
<span class="id" title="keyword">Variable</span> (<a id="prelim.Lv" class="idref" href="#prelim.Lv"><span class="id" title="variable">Lv</span></a> : <a class="idref" href="GraphTheory.structures.html#comMonoid"><span class="id" title="abbreviation">comMonoid</span></a>) (<a id="prelim.Le" class="idref" href="#prelim.Le"><span class="id" title="variable">Le</span></a> : <a class="idref" href="GraphTheory.structures.html#elabelType"><span class="id" title="abbreviation">elabelType</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="graph" class="idref" href="#graph"><span class="id" title="abbreviation">graph</span></a> := (<a class="idref" href="GraphTheory.mgraph.html#graph"><span class="id" title="record">graph</span></a> <a class="idref" href="GraphTheory.reduction.html#prelim.Lv"><span class="id" title="variable">Lv</span></a> <a class="idref" href="GraphTheory.reduction.html#prelim.Le"><span class="id" title="variable">Le</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="graph2" class="idref" href="#graph2"><span class="id" title="abbreviation">graph2</span></a> := (<a class="idref" href="GraphTheory.mgraph2.html#graph2"><span class="id" title="record">graph2</span></a> <a class="idref" href="GraphTheory.reduction.html#prelim.Lv"><span class="id" title="variable">Lv</span></a> <a class="idref" href="GraphTheory.reduction.html#prelim.Le"><span class="id" title="variable">Le</span></a>).<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">cm_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="two_edges" class="idref" href="#two_edges"><span class="id" title="lemma">two_edges</span></a> (<a id="a:3" class="idref" href="#a:3"><span class="id" title="binder">a</span></a> <a id="b:4" class="idref" href="#b:4"><span class="id" title="binder">b</span></a> <a id="c:5" class="idref" href="#c:5"><span class="id" title="binder">c</span></a> <a id="d:6" class="idref" href="#d:6"><span class="id" title="binder">d</span></a>: <a class="idref" href="GraphTheory.reduction.html#prelim.Lv"><span class="id" title="variable">Lv</span></a>) (<a id="u:7" class="idref" href="#u:7"><span class="id" title="binder">u</span></a> <a id="v:8" class="idref" href="#v:8"><span class="id" title="binder">v</span></a>: <a class="idref" href="GraphTheory.reduction.html#prelim.Le"><span class="id" title="variable">Le</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="GraphTheory.mgraph.html#edge_graph"><span class="id" title="definition">edge_graph</span></a> <a class="idref" href="GraphTheory.reduction.html#a:3"><span class="id" title="variable">a</span></a> <a class="idref" href="GraphTheory.reduction.html#u:7"><span class="id" title="variable">u</span></a> <a class="idref" href="GraphTheory.reduction.html#b:4"><span class="id" title="variable">b</span></a> <a class="idref" href="GraphTheory.mgraph.html#593cce067104f3a6c032a4d0ed1b3e0a"><span class="id" title="notation">⊎</span></a> <a class="idref" href="GraphTheory.mgraph.html#edge_graph"><span class="id" title="definition">edge_graph</span></a> <a class="idref" href="GraphTheory.reduction.html#c:5"><span class="id" title="variable">c</span></a> <a class="idref" href="GraphTheory.reduction.html#v:8"><span class="id" title="variable">v</span></a> <a class="idref" href="GraphTheory.reduction.html#d:6"><span class="id" title="variable">d</span></a><br/>
<a class="idref" href="GraphTheory.mgraph.html#47ab0ac71cf2dac51fa901d3dcced8db"><span class="id" title="notation">≃</span></a> <a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">(</span></a><a class="idref" href="GraphTheory.mgraph.html#two_graph"><span class="id" title="definition">two_graph</span></a> <a class="idref" href="GraphTheory.reduction.html#a:3"><span class="id" title="variable">a</span></a> <a class="idref" href="GraphTheory.reduction.html#b:4"><span class="id" title="variable">b</span></a> <a class="idref" href="GraphTheory.mgraph.html#593cce067104f3a6c032a4d0ed1b3e0a"><span class="id" title="notation">⊎</span></a> <a class="idref" href="GraphTheory.mgraph.html#two_graph"><span class="id" title="definition">two_graph</span></a> <a class="idref" href="GraphTheory.reduction.html#c:5"><span class="id" title="variable">c</span></a> <a class="idref" href="GraphTheory.reduction.html#d:6"><span class="id" title="variable">d</span></a><a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">)</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">∔</span></a> <a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">,</span></a> <a class="idref" href="GraphTheory.reduction.html#u:7"><span class="id" title="variable">u</span></a><a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">]</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">∔</span></a> <a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">,</span></a> <a class="idref" href="GraphTheory.reduction.html#v:8"><span class="id" title="variable">v</span></a><a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="GraphTheory.mgraph.html#union_add_edge_l"><span class="id" title="lemma">union_add_edge_l</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="GraphTheory.mgraph.html#add_edge_iso"><span class="id" title="lemma">add_edge_iso</span></a> (<a class="idref" href="GraphTheory.mgraph.html#union_add_edge_r"><span class="id" title="lemma">union_add_edge_r</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph.html#add_edge_C"><span class="id" title="lemma">add_edge_C</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="two_option_void" class="idref" href="#two_option_void"><span class="id" title="definition">two_option_void</span></a>: <br/>
&nbsp;&nbsp;<a class="idref" href="GraphTheory.bij.html#bij"><span class="id" title="record">bij</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrfun.html#void"><span class="id" title="abbreviation">void</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrfun.html#void"><span class="id" title="abbreviation">void</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrfun.html#void"><span class="id" title="abbreviation">void</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrfun.html#void"><span class="id" title="abbreviation">void</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrfun.html#void"><span class="id" title="abbreviation">void</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrfun.html#void"><span class="id" title="abbreviation">void</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)+</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrfun.html#void"><span class="id" title="abbreviation">void</span></a>))).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.bij.html#sum_option_r"><span class="id" title="lemma">sum_option_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.bij.html#option_bij"><span class="id" title="definition">option_bij</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.bij.html#sum_bij"><span class="id" title="instance">sum_bij</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.bij.html#sumxU"><span class="id" title="lemma">sumxU</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.bij.html#sumxU"><span class="id" title="lemma">sumxU</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.bij.html#option_bij"><span class="id" title="definition">option_bij</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.bij.html#sumxU"><span class="id" title="lemma">sumxU</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dot_edges" class="idref" href="#dot_edges"><span class="id" title="lemma">dot_edges</span></a> (<a id="a:9" class="idref" href="#a:9"><span class="id" title="binder">a</span></a> <a id="b:10" class="idref" href="#b:10"><span class="id" title="binder">b</span></a> <a id="c:11" class="idref" href="#c:11"><span class="id" title="binder">c</span></a> <a id="d:12" class="idref" href="#d:12"><span class="id" title="binder">d</span></a>: <a class="idref" href="GraphTheory.reduction.html#prelim.Lv"><span class="id" title="variable">Lv</span></a>) (<a id="u:13" class="idref" href="#u:13"><span class="id" title="binder">u</span></a> <a id="v:14" class="idref" href="#v:14"><span class="id" title="binder">v</span></a>: <a class="idref" href="GraphTheory.reduction.html#prelim.Le"><span class="id" title="variable">Le</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> (<a class="idref" href="GraphTheory.mgraph.html#merge_seq"><span class="id" title="abbreviation">merge_seq</span></a> (<a class="idref" href="GraphTheory.mgraph.html#edge_graph"><span class="id" title="definition">edge_graph</span></a> <a class="idref" href="GraphTheory.reduction.html#a:9"><span class="id" title="variable">a</span></a> <a class="idref" href="GraphTheory.reduction.html#u:13"><span class="id" title="variable">u</span></a> <a class="idref" href="GraphTheory.reduction.html#b:10"><span class="id" title="variable">b</span></a> <a class="idref" href="GraphTheory.mgraph.html#593cce067104f3a6c032a4d0ed1b3e0a"><span class="id" title="notation">⊎</span></a> <a class="idref" href="GraphTheory.mgraph.html#edge_graph"><span class="id" title="definition">edge_graph</span></a> <a class="idref" href="GraphTheory.reduction.html#c:11"><span class="id" title="variable">c</span></a> <a class="idref" href="GraphTheory.reduction.html#v:14"><span class="id" title="variable">v</span></a> <a class="idref" href="GraphTheory.reduction.html#d:12"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)) (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">)</span></a>)<br/>
<a class="idref" href="GraphTheory.mgraph2.html#8e44bd5a45796f7b75f6d56387c4c4fc"><span class="id" title="notation">≃2</span></a> <a class="idref" href="GraphTheory.mgraph2.html#two_graph2"><span class="id" title="definition">two_graph2</span></a> <a class="idref" href="GraphTheory.reduction.html#a:9"><span class="id" title="variable">a</span></a> <a class="idref" href="GraphTheory.reduction.html#d:12"><span class="id" title="variable">d</span></a> <a class="idref" href="GraphTheory.mgraph2.html#44c3e77bd949681c83899c65d3f2a743"><span class="id" title="notation">∔</span></a> <a class="idref" href="GraphTheory.mgraph2.html#44c3e77bd949681c83899c65d3f2a743"><span class="id" title="notation">(</span></a><a class="idref" href="GraphTheory.reduction.html#b:10"><span class="id" title="variable">b</span></a><a class="idref" href="GraphTheory.structures.html#c11b60d97e1ef9ba754bb71125d7dcca"><span class="id" title="notation">⊗</span></a><a class="idref" href="GraphTheory.reduction.html#c:11"><span class="id" title="variable">c</span></a><a class="idref" href="GraphTheory.mgraph2.html#44c3e77bd949681c83899c65d3f2a743"><span class="id" title="notation">)</span></a> <a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">∔</span></a> <a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">,</span></a> <a class="idref" href="GraphTheory.reduction.html#u:13"><span class="id" title="variable">u</span></a><a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">]</span></a> <a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">∔</span></a> <a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">,</span></a> <a class="idref" href="GraphTheory.reduction.html#v:14"><span class="id" title="variable">v</span></a><a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">G</span> := (<span class="id" title="var">_</span> <a class="idref" href="GraphTheory.mgraph.html#593cce067104f3a6c032a4d0ed1b3e0a"><span class="id" title="notation">⊎</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">G</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">H</span> := (<span class="id" title="var">_</span> <a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">∔</span></a> <a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">]</span></a> <a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">∔</span></a> <a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">,</span></a><span class="id" title="var">_</span><a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">,</span></a><span class="id" title="var">_</span><a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">G2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">f</span> (<a id="x:16" class="idref" href="#x:16"><span class="id" title="binder">x</span></a> : <span class="id" title="var">G</span>) : <span class="id" title="var">H</span> := <span class="id" title="keyword">match</span> <a class="idref" href="GraphTheory.reduction.html#x:16"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">Iso2</span><br/>
&nbsp;&nbsp;(@<a class="idref" href="GraphTheory.mgraph.html#merge_surj"><span class="id" title="lemma">merge_surj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">G</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:20" class="idref" href="#x:20"><span class="id" title="binder">x</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="GraphTheory.reduction.html#x:18"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="GraphTheory.reduction.html#two_option_void"><span class="id" title="definition">two_option_void</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;4,5: <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph.html#merge_surjE"><span class="id" title="lemma">merge_surjE</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.equiv.html#kernel_eqv_clot"><span class="id" title="lemma">kernel_eqv_clot</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">case</span>=&gt;[[[]|[]]|[[]|[]]]; <span class="id" title="tactic">case</span>=&gt;[[[]|[]]|[[]|[]]]//= <span class="id" title="var">_</span>; <span class="id" title="var">eqv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="GraphTheory.setoid_bigop.html#big_sumType"><span class="id" title="lemma">big_sumType</span></a> !<a class="idref" href="GraphTheory.setoid_bigop.html#big_unitType"><span class="id" title="lemma">big_unitType</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="var">y</span> ; [<span class="id" title="tactic">case</span>; <span class="id" title="tactic">case</span> | <span class="id" title="tactic">case</span>]; <span class="id" title="tactic">rewrite</span> /= ?<a class="idref" href="GraphTheory.setoid_bigop.html#monUl"><span class="id" title="method">monUl</span></a> ?<a class="idref" href="GraphTheory.setoid_bigop.html#monU"><span class="id" title="method">monU</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">case</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="two_option_void'" class="idref" href="#two_option_void'"><span class="id" title="definition">two_option_void'</span></a>: <a class="idref" href="GraphTheory.bij.html#bij"><span class="id" title="record">bij</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrfun.html#void"><span class="id" title="abbreviation">void</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrfun.html#void"><span class="id" title="abbreviation">void</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrfun.html#void"><span class="id" title="abbreviation">void</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrfun.html#void"><span class="id" title="abbreviation">void</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrfun.html#void"><span class="id" title="abbreviation">void</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrfun.html#void"><span class="id" title="abbreviation">void</span></a>))).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.bij.html#sum_option_r"><span class="id" title="lemma">sum_option_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.bij.html#option_bij"><span class="id" title="definition">option_bij</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.bij.html#sum_bij"><span class="id" title="instance">sum_bij</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.bij.html#sumxU"><span class="id" title="lemma">sumxU</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.bij.html#sumxU"><span class="id" title="lemma">sumxU</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="par_edges" class="idref" href="#par_edges"><span class="id" title="lemma">par_edges</span></a> (<a id="a:22" class="idref" href="#a:22"><span class="id" title="binder">a</span></a> <a id="b:23" class="idref" href="#b:23"><span class="id" title="binder">b</span></a> <a id="c:24" class="idref" href="#c:24"><span class="id" title="binder">c</span></a> <a id="d:25" class="idref" href="#d:25"><span class="id" title="binder">d</span></a>: <a class="idref" href="GraphTheory.reduction.html#prelim.Lv"><span class="id" title="variable">Lv</span></a>) (<a id="u:26" class="idref" href="#u:26"><span class="id" title="binder">u</span></a> <a id="v:27" class="idref" href="#v:27"><span class="id" title="binder">v</span></a>: <a class="idref" href="GraphTheory.reduction.html#prelim.Le"><span class="id" title="variable">Le</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> (<a class="idref" href="GraphTheory.mgraph.html#merge_seq"><span class="id" title="abbreviation">merge_seq</span></a> (<a class="idref" href="GraphTheory.mgraph.html#edge_graph"><span class="id" title="definition">edge_graph</span></a> <a class="idref" href="GraphTheory.reduction.html#a:22"><span class="id" title="variable">a</span></a> <a class="idref" href="GraphTheory.reduction.html#u:26"><span class="id" title="variable">u</span></a> <a class="idref" href="GraphTheory.reduction.html#b:23"><span class="id" title="variable">b</span></a> <a class="idref" href="GraphTheory.mgraph.html#593cce067104f3a6c032a4d0ed1b3e0a"><span class="id" title="notation">⊎</span></a> <a class="idref" href="GraphTheory.mgraph.html#edge_graph"><span class="id" title="definition">edge_graph</span></a> <a class="idref" href="GraphTheory.reduction.html#c:24"><span class="id" title="variable">c</span></a> <a class="idref" href="GraphTheory.reduction.html#v:27"><span class="id" title="variable">v</span></a> <a class="idref" href="GraphTheory.reduction.html#d:25"><span class="id" title="variable">d</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#9e9281397dab83046645f1b62dbb2487"><span class="id" title="notation">[::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#9e9281397dab83046645f1b62dbb2487"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#9e9281397dab83046645f1b62dbb2487"><span class="id" title="notation">]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)) (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">)</span></a>)<br/>
<a class="idref" href="GraphTheory.mgraph2.html#8e44bd5a45796f7b75f6d56387c4c4fc"><span class="id" title="notation">≃2</span></a> <a class="idref" href="GraphTheory.mgraph2.html#two_graph2"><span class="id" title="definition">two_graph2</span></a> (<a class="idref" href="GraphTheory.reduction.html#a:22"><span class="id" title="variable">a</span></a><a class="idref" href="GraphTheory.structures.html#c11b60d97e1ef9ba754bb71125d7dcca"><span class="id" title="notation">⊗</span></a><a class="idref" href="GraphTheory.reduction.html#c:24"><span class="id" title="variable">c</span></a>) (<a class="idref" href="GraphTheory.reduction.html#b:23"><span class="id" title="variable">b</span></a><a class="idref" href="GraphTheory.structures.html#c11b60d97e1ef9ba754bb71125d7dcca"><span class="id" title="notation">⊗</span></a><a class="idref" href="GraphTheory.reduction.html#d:25"><span class="id" title="variable">d</span></a>) <a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">∔</span></a> <a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">,</span></a> <a class="idref" href="GraphTheory.reduction.html#u:26"><span class="id" title="variable">u</span></a><a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">]</span></a> <a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">∔</span></a> <a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">,</span></a> <a class="idref" href="GraphTheory.reduction.html#v:27"><span class="id" title="variable">v</span></a><a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="var">Iso2</span><br/>
&nbsp;&nbsp;(@<a class="idref" href="GraphTheory.mgraph.html#merge_surj"><span class="id" title="lemma">merge_surj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="GraphTheory.mgraph.html#edge_graph"><span class="id" title="definition">edge_graph</span></a> <span class="id" title="var">a</span> <span class="id" title="var">u</span> <span class="id" title="var">b</span> <a class="idref" href="GraphTheory.mgraph.html#593cce067104f3a6c032a4d0ed1b3e0a"><span class="id" title="notation">⊎</span></a> <a class="idref" href="GraphTheory.mgraph.html#edge_graph"><span class="id" title="definition">edge_graph</span></a> <span class="id" title="var">c</span> <span class="id" title="var">v</span> <span class="id" title="var">d</span>) <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="GraphTheory.mgraph2.html#two_graph2"><span class="id" title="definition">two_graph2</span></a> (<span class="id" title="var">a</span><a class="idref" href="GraphTheory.structures.html#c11b60d97e1ef9ba754bb71125d7dcca"><span class="id" title="notation">⊗</span></a><span class="id" title="var">c</span>) (<span class="id" title="var">b</span><a class="idref" href="GraphTheory.structures.html#c11b60d97e1ef9ba754bb71125d7dcca"><span class="id" title="notation">⊗</span></a><span class="id" title="var">d</span>) <a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">∔</span></a> <a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">,</span></a> <span class="id" title="var">u</span><a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">]</span></a> <a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">∔</span></a> <a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:30" class="idref" href="#x:30"><span class="id" title="binder">x</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="GraphTheory.reduction.html#x:28"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="GraphTheory.reduction.html#two_option_void'"><span class="id" title="definition">two_option_void'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssrbool.html#xpred0"><span class="id" title="abbreviation">xpred0</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ).<br/>
&nbsp;&nbsp;4,5: <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph.html#merge_surjE"><span class="id" title="lemma">merge_surjE</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.equiv.html#kernel_eqv_clot"><span class="id" title="lemma">kernel_eqv_clot</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">case</span>=&gt;[[[]|[]]|[[]|[]]]; <span class="id" title="tactic">case</span>=&gt;[[[]|[]]|[[]|[]]]//= <span class="id" title="var">_</span>; <span class="id" title="var">eqv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="GraphTheory.setoid_bigop.html#big_sumType"><span class="id" title="lemma">big_sumType</span></a> !<a class="idref" href="GraphTheory.setoid_bigop.html#big_unitType"><span class="id" title="lemma">big_unitType</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="var">y</span> =&gt; [[]|[]] /=; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="GraphTheory.setoid_bigop.html#monU"><span class="id" title="method">monU</span></a> ?<a class="idref" href="GraphTheory.setoid_bigop.html#monUl"><span class="id" title="method">monUl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">case</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="GraphTheory.reduction.html#prelim"><span class="id" title="section">prelim</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab128"></a><h2 class="section">preservation of steps under algebraic operations</h2>

</div>
<div class="code">
<span class="comment">(*&nbsp;(for&nbsp;every&nbsp;pttdom&nbsp;algebra)&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <a id="s" class="idref" href="#s"><span class="id" title="section">s</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a id="s.X" class="idref" href="#s.X"><span class="id" title="variable">X</span></a>: <a class="idref" href="GraphTheory.pttdom.html#pttdom"><span class="id" title="abbreviation">pttdom</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="test" class="idref" href="#test"><span class="id" title="abbreviation">test</span></a> := (<a class="idref" href="GraphTheory.pttdom.html#test"><span class="id" title="record">test</span></a> <a class="idref" href="GraphTheory.reduction.html#s.X"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="graph" class="idref" href="#graph"><span class="id" title="abbreviation">graph</span></a> := (<a class="idref" href="GraphTheory.mgraph.html#graph"><span class="id" title="record">graph</span></a> <a class="idref" href="GraphTheory.reduction.html#test"><span class="id" title="abbreviation">test</span></a> <a class="idref" href="GraphTheory.reduction.html#s.X"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="graph2" class="idref" href="#graph2"><span class="id" title="abbreviation">graph2</span></a> := (<a class="idref" href="GraphTheory.mgraph2.html#graph2"><span class="id" title="record">graph2</span></a> <a class="idref" href="GraphTheory.reduction.html#test"><span class="id" title="abbreviation">test</span></a> <a class="idref" href="GraphTheory.reduction.html#s.X"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="step" class="idref" href="#step"><span class="id" title="abbreviation">step</span></a> := (@<a class="idref" href="GraphTheory.rewriting.html#step"><span class="id" title="inductive">step</span></a> <a class="idref" href="GraphTheory.reduction.html#s.X"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="steps" class="idref" href="#steps"><span class="id" title="abbreviation">steps</span></a> := (@<a class="idref" href="GraphTheory.rewriting.html#steps"><span class="id" title="inductive">steps</span></a> <a class="idref" href="GraphTheory.reduction.html#s.X"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;preliminaries&nbsp;to&nbsp;obtain&nbsp;the&nbsp;technical&nbsp;Lemma&nbsp;6.3&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="mentions" class="idref" href="#mentions"><span class="id" title="definition">mentions</span></a> (<a id="A:33" class="idref" href="#A:33"><span class="id" title="binder">A</span></a>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType"><span class="id" title="abbreviation">eqType</span></a>) (<a id="l:34" class="idref" href="#l:34"><span class="id" title="binder">l</span></a>: <a class="idref" href="GraphTheory.equiv.html#pairs"><span class="id" title="definition">pairs</span></a> <a class="idref" href="GraphTheory.reduction.html#A:33"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#flatten"><span class="id" title="definition">flatten</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">seq</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#9e9281397dab83046645f1b62dbb2487"><span class="id" title="notation">[::</span></a><a class="idref" href="GraphTheory.reduction.html#x:35"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssrfun.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#9e9281397dab83046645f1b62dbb2487"><span class="id" title="notation">;</span></a><a class="idref" href="GraphTheory.reduction.html#x:35"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssrfun.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#9e9281397dab83046645f1b62dbb2487"><span class="id" title="notation">]</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">|</span></a> <a id="x:35" class="idref" href="#x:35"><span class="id" title="binder">x</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="GraphTheory.reduction.html#l:34"><span class="id" title="variable">l</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="admissible_l" class="idref" href="#admissible_l"><span class="id" title="definition">admissible_l</span></a> (<a id="G:36" class="idref" href="#G:36"><span class="id" title="binder">G</span></a>: <a class="idref" href="GraphTheory.reduction.html#graph2"><span class="id" title="abbreviation">graph2</span></a>) (<a id="H:37" class="idref" href="#H:37"><span class="id" title="binder">H</span></a>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType"><span class="id" title="abbreviation">eqType</span></a>) (<a id="e:38" class="idref" href="#e:38"><span class="id" title="binder">e</span></a> : <a class="idref" href="GraphTheory.equiv.html#pairs"><span class="id" title="definition">pairs</span></a> (<a class="idref" href="GraphTheory.reduction.html#G:36"><span class="id" title="variable">G</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a><a class="idref" href="GraphTheory.reduction.html#H:37"><span class="id" title="variable">H</span></a>)) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#all"><span class="id" title="definition">all</span></a> (<span class="id" title="keyword">fun</span> <a id="x:39" class="idref" href="#x:39"><span class="id" title="binder">x</span></a> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="GraphTheory.reduction.html#x:39"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">z</span> <span class="id" title="keyword">then</span> <span class="id" title="var">z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="GraphTheory.mgraph2.html#IO"><span class="id" title="abbreviation">IO</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="GraphTheory.reduction.html#mentions"><span class="id" title="definition">mentions</span></a> <a class="idref" href="GraphTheory.reduction.html#e:38"><span class="id" title="variable">e</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="replace_ioL" class="idref" href="#replace_ioL"><span class="id" title="definition">replace_ioL</span></a> (<a id="G:41" class="idref" href="#G:41"><span class="id" title="binder">G</span></a> <a id="G':42" class="idref" href="#G':42"><span class="id" title="binder">G'</span></a>: <a class="idref" href="GraphTheory.reduction.html#graph2"><span class="id" title="abbreviation">graph2</span></a>) (<a id="H:43" class="idref" href="#H:43"><span class="id" title="binder">H</span></a>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType"><span class="id" title="abbreviation">eqType</span></a>) (<a id="e:44" class="idref" href="#e:44"><span class="id" title="binder">e</span></a> : <a class="idref" href="GraphTheory.equiv.html#pairs"><span class="id" title="definition">pairs</span></a> (<a class="idref" href="GraphTheory.reduction.html#G:41"><span class="id" title="variable">G</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a><a class="idref" href="GraphTheory.reduction.html#H:43"><span class="id" title="variable">H</span></a>)) : <a class="idref" href="GraphTheory.equiv.html#pairs"><span class="id" title="definition">pairs</span></a> (<a class="idref" href="GraphTheory.reduction.html#G':42"><span class="id" title="variable">G'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a><a class="idref" href="GraphTheory.reduction.html#H:43"><span class="id" title="variable">H</span></a>) := <br/>
&nbsp;&nbsp;<a class="idref" href="GraphTheory.equiv.html#map_pairs"><span class="id" title="definition">map_pairs</span></a> (<span class="id" title="keyword">fun</span> <a id="x:45" class="idref" href="#x:45"><span class="id" title="binder">x</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="GraphTheory.reduction.html#x:45"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">z</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="var">z</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="GraphTheory.mgraph2.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="GraphTheory.mgraph2.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">z</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <a class="idref" href="GraphTheory.reduction.html#e:44"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="GraphTheory.reduction.html#replace_ioL"><span class="id" title="definition">replace_ioL</span></a> [<span class="id" title="var">G</span> <span class="id" title="var">G'</span> <span class="id" title="var">H</span>].<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="replace_ioE" class="idref" href="#replace_ioE"><span class="id" title="lemma">replace_ioE</span></a> <a id="vT:47" class="idref" href="#vT:47"><span class="id" title="binder">vT</span></a> <a id="eT1:48" class="idref" href="#eT1:48"><span class="id" title="binder">eT1</span></a> <a id="eT2:49" class="idref" href="#eT2:49"><span class="id" title="binder">eT2</span></a> <a id="st1:50" class="idref" href="#st1:50"><span class="id" title="binder">st1</span></a> <a id="st2:51" class="idref" href="#st2:51"><span class="id" title="binder">st2</span></a> <a id="lv1:52" class="idref" href="#lv1:52"><span class="id" title="binder">lv1</span></a> <a id="lv2:53" class="idref" href="#lv2:53"><span class="id" title="binder">lv2</span></a> <a id="le1:54" class="idref" href="#le1:54"><span class="id" title="binder">le1</span></a> <a id="le2:55" class="idref" href="#le2:55"><span class="id" title="binder">le2</span></a> <a id="i:56" class="idref" href="#i:56"><span class="id" title="binder">i</span></a> <a id="o:57" class="idref" href="#o:57"><span class="id" title="binder">o</span></a> <a id="H:58" class="idref" href="#H:58"><span class="id" title="binder">H</span></a> <a id="e:59" class="idref" href="#e:59"><span class="id" title="binder">e</span></a> : <a class="idref" href="GraphTheory.reduction.html#admissible_l"><span class="id" title="definition">admissible_l</span></a> <a class="idref" href="GraphTheory.reduction.html#e:59"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;@<a class="idref" href="GraphTheory.reduction.html#replace_ioL"><span class="id" title="definition">replace_ioL</span></a> (<a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> (@<a class="idref" href="GraphTheory.mgraph.html#Graph"><span class="id" title="constructor">Graph</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="GraphTheory.reduction.html#vT:47"><span class="id" title="variable">vT</span></a> <a class="idref" href="GraphTheory.reduction.html#eT1:48"><span class="id" title="variable">eT1</span></a> <a class="idref" href="GraphTheory.reduction.html#st1:50"><span class="id" title="variable">st1</span></a> <a class="idref" href="GraphTheory.reduction.html#lv1:52"><span class="id" title="variable">lv1</span></a> <a class="idref" href="GraphTheory.reduction.html#le1:54"><span class="id" title="variable">le1</span></a>) <a class="idref" href="GraphTheory.reduction.html#i:56"><span class="id" title="variable">i</span></a> <a class="idref" href="GraphTheory.reduction.html#o:57"><span class="id" title="variable">o</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> (@<a class="idref" href="GraphTheory.mgraph.html#Graph"><span class="id" title="constructor">Graph</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="GraphTheory.reduction.html#vT:47"><span class="id" title="variable">vT</span></a> <a class="idref" href="GraphTheory.reduction.html#eT2:49"><span class="id" title="variable">eT2</span></a> <a class="idref" href="GraphTheory.reduction.html#st2:51"><span class="id" title="variable">st2</span></a> <a class="idref" href="GraphTheory.reduction.html#lv2:53"><span class="id" title="variable">lv2</span></a> <a class="idref" href="GraphTheory.reduction.html#le2:55"><span class="id" title="variable">le2</span></a>) <a class="idref" href="GraphTheory.reduction.html#i:56"><span class="id" title="variable">i</span></a> <a class="idref" href="GraphTheory.reduction.html#o:57"><span class="id" title="variable">o</span></a>) <a class="idref" href="GraphTheory.reduction.html#H:58"><span class="id" title="variable">H</span></a> <a class="idref" href="GraphTheory.reduction.html#e:59"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GraphTheory.reduction.html#e:59"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">e</span> =&gt; //=. <span class="id" title="tactic">case</span> =&gt; [[<span class="id" title="var">a</span>|<span class="id" title="var">a</span>] [<span class="id" title="var">b</span>|<span class="id" title="var">b</span>]] <span class="id" title="var">l</span> /= <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> /<a class="idref" href="GraphTheory.reduction.html#admissible_l"><span class="id" title="definition">admissible_l</span></a> /=. <span class="id" title="var">all</span>: <span class="id" title="tactic">first</span> [<span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssrbool.html#and3P"><span class="id" title="lemma">and3P</span></a>|<span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>|<span class="id" title="tactic">idtac</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set2P"><span class="id" title="lemma">set2P</span></a> =&gt; -&gt;). <span class="id" title="var">all</span>: <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">HA</span>; <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">IH</span> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssrbool.html#altP"><span class="id" title="lemma">altP</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#699be9384eca4d7537361910a9a14afe"><span class="id" title="notation">=</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#699be9384eca4d7537361910a9a14afe"><span class="id" title="notation">P</span></a> <span class="id" title="var">o</span>)) =&gt; [-&gt;|?].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cons_iso_steps" class="idref" href="#cons_iso_steps"><span class="id" title="lemma">cons_iso_steps</span></a> <a id="G:60" class="idref" href="#G:60"><span class="id" title="binder">G</span></a> <a id="G':61" class="idref" href="#G':61"><span class="id" title="binder">G'</span></a> <a id="H:62" class="idref" href="#H:62"><span class="id" title="binder">H</span></a> : <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="GraphTheory.reduction.html#G':61"><span class="id" title="variable">G'</span></a> <a class="idref" href="GraphTheory.reduction.html#H:62"><span class="id" title="variable">H</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#G:60"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.mgraph2.html#8e44bd5a45796f7b75f6d56387c4c4fc"><span class="id" title="notation">≃2</span></a> <a class="idref" href="GraphTheory.reduction.html#G':61"><span class="id" title="variable">G'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="GraphTheory.reduction.html#G:60"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.reduction.html#H:62"><span class="id" title="variable">H</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span>. <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#iso_step"><span class="id" title="constructor">iso_step</span></a>, <span class="id" title="var">F</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cons_step_steps" class="idref" href="#cons_step_steps"><span class="id" title="lemma">cons_step_steps</span></a> <a id="G:63" class="idref" href="#G:63"><span class="id" title="binder">G</span></a> <a id="G':64" class="idref" href="#G':64"><span class="id" title="binder">G'</span></a> <a id="H:65" class="idref" href="#H:65"><span class="id" title="binder">H</span></a> : <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="GraphTheory.reduction.html#G':64"><span class="id" title="variable">G'</span></a> <a class="idref" href="GraphTheory.reduction.html#H:65"><span class="id" title="variable">H</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#step"><span class="id" title="abbreviation">step</span></a> <a class="idref" href="GraphTheory.reduction.html#G:63"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.reduction.html#G':64"><span class="id" title="variable">G'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="GraphTheory.reduction.html#G:63"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.reduction.html#H:65"><span class="id" title="variable">H</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">F</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="merge_add_edgeL" class="idref" href="#merge_add_edgeL"><span class="id" title="lemma">merge_add_edgeL</span></a> (<a id="G:66" class="idref" href="#G:66"><span class="id" title="binder">G</span></a> <a id="H:67" class="idref" href="#H:67"><span class="id" title="binder">H</span></a> : <a class="idref" href="GraphTheory.reduction.html#graph"><span class="id" title="abbreviation">graph</span></a>) <a id="x:68" class="idref" href="#x:68"><span class="id" title="binder">x</span></a> <a id="y:69" class="idref" href="#y:69"><span class="id" title="binder">y</span></a> <a id="u:70" class="idref" href="#u:70"><span class="id" title="binder">u</span></a> <a id="l:71" class="idref" href="#l:71"><span class="id" title="binder">l</span></a> <a id="i:72" class="idref" href="#i:72"><span class="id" title="binder">i</span></a> <a id="o:73" class="idref" href="#o:73"><span class="id" title="binder">o</span></a> : <br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> (<a class="idref" href="GraphTheory.mgraph.html#merge_seq"><span class="id" title="abbreviation">merge_seq</span></a> (<a class="idref" href="GraphTheory.reduction.html#G:66"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">∔</span></a> <a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">[</span></a><a class="idref" href="GraphTheory.reduction.html#x:68"><span class="id" title="variable">x</span></a><a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">,</span></a><a class="idref" href="GraphTheory.reduction.html#u:70"><span class="id" title="variable">u</span></a><a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">,</span></a><a class="idref" href="GraphTheory.reduction.html#y:69"><span class="id" title="variable">y</span></a><a class="idref" href="GraphTheory.mgraph.html#b10b2ead6a28a958f70a147624a16040"><span class="id" title="notation">]</span></a> <a class="idref" href="GraphTheory.mgraph.html#593cce067104f3a6c032a4d0ed1b3e0a"><span class="id" title="notation">⊎</span></a> <a class="idref" href="GraphTheory.reduction.html#H:67"><span class="id" title="variable">H</span></a>) <a class="idref" href="GraphTheory.reduction.html#l:71"><span class="id" title="variable">l</span></a>) (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.reduction.html#i:72"><span class="id" title="variable">i</span></a>) (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.reduction.html#o:73"><span class="id" title="variable">o</span></a>)<br/>
<a class="idref" href="GraphTheory.mgraph2.html#8e44bd5a45796f7b75f6d56387c4c4fc"><span class="id" title="notation">≃2</span></a> <a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> (<a class="idref" href="GraphTheory.mgraph.html#merge_seq"><span class="id" title="abbreviation">merge_seq</span></a> (<a class="idref" href="GraphTheory.reduction.html#G:66"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.mgraph.html#593cce067104f3a6c032a4d0ed1b3e0a"><span class="id" title="notation">⊎</span></a> <a class="idref" href="GraphTheory.reduction.html#H:67"><span class="id" title="variable">H</span></a>) <a class="idref" href="GraphTheory.reduction.html#l:71"><span class="id" title="variable">l</span></a>) (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.reduction.html#i:72"><span class="id" title="variable">i</span></a>) (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.reduction.html#o:73"><span class="id" title="variable">o</span></a>) <a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">∔</span></a> <a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">[</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="GraphTheory.reduction.html#x:68"><span class="id" title="variable">x</span></a><a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">,</span></a><a class="idref" href="GraphTheory.reduction.html#u:70"><span class="id" title="variable">u</span></a><a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">,</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="GraphTheory.reduction.html#y:69"><span class="id" title="variable">y</span></a><a class="idref" href="GraphTheory.mgraph2.html#751d68010dde6699b6da6aaaf1a70694"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="GraphTheory.mgraph2.html#iso2_comp"><span class="id" title="definition">iso2_comp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="GraphTheory.mgraph2.html#iso_iso2'"><span class="id" title="lemma">iso_iso2'</span></a> (<span class="id" title="var">h</span>:=<a class="idref" href="GraphTheory.mgraph.html#merge_iso"><span class="id" title="definition">merge_iso</span></a> (<a class="idref" href="GraphTheory.mgraph.html#union_add_edge_l"><span class="id" title="lemma">union_add_edge_l</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;1,2: <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.mgraph.html#merge_isoE"><span class="id" title="lemma">merge_isoE</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="GraphTheory.mgraph2.html#iso2_comp"><span class="id" title="definition">iso2_comp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.mgraph2.html#iso_iso2'"><span class="id" title="lemma">iso_iso2'</span></a> (<span class="id" title="var">h</span>:=<a class="idref" href="GraphTheory.mgraph.html#merge_add_edge"><span class="id" title="lemma">merge_add_edge</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;1,2: <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.mgraph.html#merge_add_edgeE"><span class="id" title="lemma">merge_add_edgeE</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.mgraph2.html#iso_iso2'"><span class="id" title="lemma">iso_iso2'</span></a> (<span class="id" title="var">h</span>:=<a class="idref" href="GraphTheory.mgraph.html#add_edge_iso''"><span class="id" title="lemma">add_edge_iso''</span></a> (<span class="id" title="var">h</span>:=<a class="idref" href="GraphTheory.mgraph.html#merge_same"><span class="id" title="definition">mgraph.merge_same</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>)=&gt;/=.<br/>
&nbsp;&nbsp;4: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.mgraph.html#map_pairs_id"><span class="id" title="lemma">map_pairs_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.mgraph.html#merge_sameE"><span class="id" title="definition">merge_sameE</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TOFIX:&nbsp;even&nbsp;with&nbsp;Opaque&nbsp;merge_iso&nbsp;h_merge,&nbsp;the&nbsp;rewrite&nbsp;merge_add_edgeE&nbsp;<br/>
&nbsp;&nbsp;&nbsp;succeeds&nbsp;by&nbsp;unfolding&nbsp;if&nbsp;we&nbsp;don't&nbsp;do&nbsp;the&nbsp;rewrite&nbsp;merge_isoE&nbsp;first.&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="merge_add_edgeLE" class="idref" href="#merge_add_edgeLE"><span class="id" title="lemma">merge_add_edgeLE</span></a> <a id="G:74" class="idref" href="#G:74"><span class="id" title="binder">G</span></a> <a id="H:75" class="idref" href="#H:75"><span class="id" title="binder">H</span></a> <a id="x:76" class="idref" href="#x:76"><span class="id" title="binder">x</span></a> <a id="y:77" class="idref" href="#y:77"><span class="id" title="binder">y</span></a> <a id="u:78" class="idref" href="#u:78"><span class="id" title="binder">u</span></a> <a id="l:79" class="idref" href="#l:79"><span class="id" title="binder">l</span></a> <a id="i:80" class="idref" href="#i:80"><span class="id" title="binder">i</span></a> <a id="o:81" class="idref" href="#o:81"><span class="id" title="binder">o</span></a> <a id="z:82" class="idref" href="#z:82"><span class="id" title="binder">z</span></a>:<br/>
&nbsp;&nbsp;@<a class="idref" href="GraphTheory.reduction.html#merge_add_edgeL"><span class="id" title="lemma">merge_add_edgeL</span></a> <a class="idref" href="GraphTheory.reduction.html#G:74"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.reduction.html#H:75"><span class="id" title="variable">H</span></a> <a class="idref" href="GraphTheory.reduction.html#x:76"><span class="id" title="variable">x</span></a> <a class="idref" href="GraphTheory.reduction.html#y:77"><span class="id" title="variable">y</span></a> <a class="idref" href="GraphTheory.reduction.html#u:78"><span class="id" title="variable">u</span></a> <a class="idref" href="GraphTheory.reduction.html#l:79"><span class="id" title="variable">l</span></a> <a class="idref" href="GraphTheory.reduction.html#i:80"><span class="id" title="variable">i</span></a> <a class="idref" href="GraphTheory.reduction.html#o:81"><span class="id" title="variable">o</span></a> (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.reduction.html#z:82"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.reduction.html#z:82"><span class="id" title="variable">z</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="GraphTheory.reduction.html#merge_add_edgeL"><span class="id" title="lemma">merge_add_edgeL</span></a>/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="GraphTheory.mgraph.html#merge_isoE"><span class="id" title="lemma">merge_isoE</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.mgraph.html#union_add_edge_l"><span class="id" title="lemma">union_add_edge_l</span></a> <span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">u</span> <span class="id" title="var">y</span>) <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.mgraph.html#merge_add_edgeE"><span class="id" title="lemma">merge_add_edgeE</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.mgraph.html#merge_sameE"><span class="id" title="definition">merge_sameE</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="s.a" class="idref" href="#s.a"><span class="id" title="section">a</span></a>.<br/>
<span class="id" title="keyword">Variables</span> (<a id="s.a.G" class="idref" href="#s.a.G"><span class="id" title="variable">G</span></a> <a id="s.a.H" class="idref" href="#s.a.H"><span class="id" title="variable">H</span></a> : <a class="idref" href="GraphTheory.reduction.html#graph2"><span class="id" title="abbreviation">graph2</span></a>) (<a id="s.a.a" class="idref" href="#s.a.a"><span class="id" title="variable">a</span></a>: <a class="idref" href="GraphTheory.reduction.html#test"><span class="id" title="abbreviation">test</span></a>) (<a id="s.a.l" class="idref" href="#s.a.l"><span class="id" title="variable">l</span></a>: <a class="idref" href="GraphTheory.equiv.html#pairs"><span class="id" title="definition">pairs</span></a> (<a class="idref" href="GraphTheory.mgraph2.html#add_vertex2"><span class="id" title="definition">add_vertex2</span></a> <a class="idref" href="GraphTheory.reduction.html#G:84"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.reduction.html#a:85"><span class="id" title="variable">a</span></a> <a class="idref" href="GraphTheory.mgraph.html#593cce067104f3a6c032a4d0ed1b3e0a"><span class="id" title="notation">⊎</span></a> <a class="idref" href="GraphTheory.reduction.html#H:83"><span class="id" title="variable">H</span></a>)%<span class="id" title="var">G</span>).<br/>
<span class="id" title="keyword">Hypothesis</span> <a id="s.a.A" class="idref" href="#s.a.A"><span class="id" title="variable">A</span></a>: <a class="idref" href="GraphTheory.reduction.html#admissible_l"><span class="id" title="definition">admissible_l</span></a> <a class="idref" href="GraphTheory.reduction.html#s.a.l"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="admissible_map" class="idref" href="#admissible_map"><span class="id" title="lemma">admissible_map</span></a>  :<br/>
&nbsp;&nbsp;<a class="idref" href="GraphTheory.equiv.html#map_pairs"><span class="id" title="definition">map_pairs</span></a> <a class="idref" href="GraphTheory.bij.html#sumA"><span class="id" title="definition">sumA</span></a> (<a class="idref" href="GraphTheory.equiv.html#map_pairs"><span class="id" title="definition">map_pairs</span></a> (<a class="idref" href="GraphTheory.bij.html#sumf"><span class="id" title="definition">sumf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssrfun.html#id"><span class="id" title="abbreviation">id</span></a> <a class="idref" href="GraphTheory.bij.html#sumC"><span class="id" title="definition">sumC</span></a>) (<a class="idref" href="GraphTheory.equiv.html#map_pairs"><span class="id" title="definition">map_pairs</span></a> <a class="idref" href="GraphTheory.bij.html#sumA'"><span class="id" title="definition">sumA'</span></a> <a class="idref" href="GraphTheory.reduction.html#s.a.l"><span class="id" title="variable">l</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GraphTheory.equiv.html#map_pairs"><span class="id" title="definition">map_pairs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="GraphTheory.reduction.html#replace_ioL"><span class="id" title="definition">replace_ioL</span></a> <a class="idref" href="GraphTheory.reduction.html#s.a.l"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="GraphTheory.mgraph.html#map_map_pairs"><span class="id" title="lemma">map_map_pairs</span></a>. <span class="id" title="tactic">induction</span> <a class="idref" href="GraphTheory.reduction.html#s.a.l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">a1</span> <span class="id" title="var">a2</span>] <span class="id" title="var">q</span> <span class="id" title="var">IH</span>]=&gt;//.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">move</span>: <a class="idref" href="GraphTheory.reduction.html#s.a.A"><span class="id" title="variable">A</span></a> =&gt;/<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[/=<span class="id" title="var">A1</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[/=<span class="id" title="var">A2</span> <span class="id" title="var">Q</span>]]. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a1</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">x</span>|[]]|<span class="id" title="var">x</span>]=&gt;//=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set2P"><span class="id" title="lemma">set2P</span></a> : <span class="id" title="var">A1</span> =&gt; [] [-&gt;]; <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.preliminaries.html#sum_eqE"><span class="id" title="definition">sum_eqE</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a> //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssrbool.html#altP"><span class="id" title="lemma">altP</span></a> (<a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#699be9384eca4d7537361910a9a14afe"><span class="id" title="notation">=</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#699be9384eca4d7537361910a9a14afe"><span class="id" title="notation">P</span></a> <a class="idref" href="GraphTheory.mgraph2.html#output"><span class="id" title="projection">output</span></a>)) =&gt; [-&gt;|].<br/>
&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">A1</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">x</span>|[]]|<span class="id" title="var">x</span>]=&gt;//=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set2P"><span class="id" title="lemma">set2P</span></a> : <span class="id" title="var">A2</span> =&gt; [] [-&gt;]; <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.preliminaries.html#sum_eqE"><span class="id" title="definition">sum_eqE</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a> //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssrbool.html#altP"><span class="id" title="lemma">altP</span></a> (<a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#699be9384eca4d7537361910a9a14afe"><span class="id" title="notation">=</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#699be9384eca4d7537361910a9a14afe"><span class="id" title="notation">P</span></a> <a class="idref" href="GraphTheory.mgraph2.html#output"><span class="id" title="projection">output</span></a>)) =&gt; [-&gt;|].<br/>
&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">A2</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>, <span class="id" title="var">Q</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="merge_add_vertexL" class="idref" href="#merge_add_vertexL"><span class="id" title="lemma">merge_add_vertexL</span></a>:<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> (<a class="idref" href="GraphTheory.mgraph.html#merge_seq"><span class="id" title="abbreviation">merge_seq</span></a> (<a class="idref" href="GraphTheory.reduction.html#s.a.G"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.mgraph.html#65720d83f67b4fe1ef7021c76ba38dc1"><span class="id" title="notation">∔</span></a> <a class="idref" href="GraphTheory.reduction.html#s.a.a"><span class="id" title="variable">a</span></a> <a class="idref" href="GraphTheory.mgraph.html#593cce067104f3a6c032a4d0ed1b3e0a"><span class="id" title="notation">⊎</span></a> <a class="idref" href="GraphTheory.reduction.html#s.a.H"><span class="id" title="variable">H</span></a>) <a class="idref" href="GraphTheory.reduction.html#s.a.l"><span class="id" title="variable">l</span></a>) (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a>)<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">)</span></a>) (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">(</span></a><a class="idref" href="GraphTheory.mgraph.html#unr"><span class="id" title="definition">unr</span></a> <a class="idref" href="GraphTheory.mgraph2.html#output"><span class="id" title="projection">output</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">)</span></a>)<br/>
<a class="idref" href="GraphTheory.mgraph2.html#8e44bd5a45796f7b75f6d56387c4c4fc"><span class="id" title="notation">≃2</span></a> <a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> (<a class="idref" href="GraphTheory.mgraph.html#merge_seq"><span class="id" title="abbreviation">merge_seq</span></a> (<a class="idref" href="GraphTheory.reduction.html#s.a.G"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.mgraph.html#593cce067104f3a6c032a4d0ed1b3e0a"><span class="id" title="notation">⊎</span></a> <a class="idref" href="GraphTheory.reduction.html#s.a.H"><span class="id" title="variable">H</span></a>) (<a class="idref" href="GraphTheory.reduction.html#replace_ioL"><span class="id" title="definition">replace_ioL</span></a> <a class="idref" href="GraphTheory.reduction.html#s.a.l"><span class="id" title="variable">l</span></a>)) (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">(</span></a><a class="idref" href="GraphTheory.mgraph.html#unl"><span class="id" title="definition">unl</span></a> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">)</span></a>) (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">(</span></a><a class="idref" href="GraphTheory.mgraph.html#unr"><span class="id" title="definition">unr</span></a> <a class="idref" href="GraphTheory.mgraph2.html#output"><span class="id" title="projection">output</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">)</span></a>) <a class="idref" href="GraphTheory.mgraph2.html#44c3e77bd949681c83899c65d3f2a743"><span class="id" title="notation">∔</span></a> <a class="idref" href="GraphTheory.reduction.html#s.a.a"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="GraphTheory.mgraph2.html#iso2_comp"><span class="id" title="definition">iso2_comp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="GraphTheory.mgraph2.html#iso_iso2'"><span class="id" title="lemma">iso_iso2'</span></a> (<span class="id" title="var">h</span>:=<a class="idref" href="GraphTheory.mgraph.html#merge_iso"><span class="id" title="definition">merge_iso</span></a> (<a class="idref" href="GraphTheory.mgraph.html#iso_sym"><span class="id" title="definition">iso_sym</span></a> (<a class="idref" href="GraphTheory.mgraph.html#union_A"><span class="id" title="lemma">union_A</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;1,2: <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.mgraph.html#merge_isoE"><span class="id" title="lemma">merge_isoE</span></a>//.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="GraphTheory.mgraph2.html#iso2_comp"><span class="id" title="definition">iso2_comp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.mgraph2.html#iso_iso2'"><span class="id" title="lemma">iso_iso2'</span></a> (<span class="id" title="var">h</span>:=<a class="idref" href="GraphTheory.mgraph.html#merge_iso"><span class="id" title="definition">merge_iso</span></a> (<a class="idref" href="GraphTheory.mgraph.html#union_iso"><span class="id" title="instance">union_iso</span></a> <a class="idref" href="GraphTheory.mgraph.html#iso_id"><span class="id" title="definition">iso_id</span></a> (<a class="idref" href="GraphTheory.mgraph.html#union_C"><span class="id" title="lemma">union_C</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;1,2: <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.mgraph.html#merge_isoE"><span class="id" title="lemma">merge_isoE</span></a>//.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="GraphTheory.mgraph2.html#iso2_comp"><span class="id" title="definition">iso2_comp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.mgraph2.html#iso_iso2'"><span class="id" title="lemma">iso_iso2'</span></a> (<span class="id" title="var">h</span>:=<a class="idref" href="GraphTheory.mgraph.html#merge_iso"><span class="id" title="definition">merge_iso</span></a> (<a class="idref" href="GraphTheory.mgraph.html#union_A"><span class="id" title="lemma">union_A</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;1,2: <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.mgraph.html#merge_isoE"><span class="id" title="lemma">merge_isoE</span></a>//.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="GraphTheory.mgraph2.html#iso2_sym"><span class="id" title="definition">iso2_sym</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="GraphTheory.mgraph2.html#iso2_comp"><span class="id" title="definition">iso2_comp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.mgraph2.html#iso_iso2'"><span class="id" title="lemma">iso_iso2'</span></a> (<span class="id" title="var">h</span>:=<a class="idref" href="GraphTheory.mgraph.html#union_merge_l"><span class="id" title="definition">union_merge_l</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;1,2: <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.mgraph.html#union_merge_lEl"><span class="id" title="lemma">union_merge_lEl</span></a>//.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="GraphTheory.mgraph2.html#iso2_sym"><span class="id" title="definition">iso2_sym</span></a>. <span class="comment">(*&nbsp;just&nbsp;so&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">merge_add_vertexLE</span></span>&nbsp;gets&nbsp;easier&nbsp;below...&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#merge_same'"><span class="id" title="lemma">merge_same'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.reduction.html#admissible_map"><span class="id" title="lemma">admissible_map</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="merge_add_vertexLE" class="idref" href="#merge_add_vertexLE"><span class="id" title="lemma">merge_add_vertexLE</span></a> <a id="x:88" class="idref" href="#x:88"><span class="id" title="binder">x</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="GraphTheory.reduction.html#merge_add_vertexL"><span class="id" title="lemma">merge_add_vertexL</span></a> (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="GraphTheory.reduction.html#x:88"><span class="id" title="variable">x</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="GraphTheory.reduction.html#x:88"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="GraphTheory.reduction.html#x:88"><span class="id" title="variable">x</span></a>) | <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="GraphTheory.mgraph.html#merge_isoE"><span class="id" title="lemma">merge_isoE</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.mgraph.html#iso_sym"><span class="id" title="definition">iso_sym</span></a> (<a class="idref" href="GraphTheory.mgraph.html#union_A"><span class="id" title="lemma">union_A</span></a> <a class="idref" href="GraphTheory.reduction.html#s.a.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="GraphTheory.mgraph.html#unit_graph"><span class="id" title="definition">unit_graph</span></a> <a class="idref" href="GraphTheory.reduction.html#s.a.a"><span class="id" title="variable">a</span></a>) <a class="idref" href="GraphTheory.reduction.html#s.a.H"><span class="id" title="variable">H</span></a>)) <a class="idref" href="GraphTheory.reduction.html#s.a.l"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="GraphTheory.mgraph.html#merge_isoE"><span class="id" title="lemma">merge_isoE</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.mgraph.html#union_iso"><span class="id" title="instance">union_iso</span></a> <a class="idref" href="GraphTheory.mgraph.html#iso_id"><span class="id" title="definition">iso_id</span></a> (<a class="idref" href="GraphTheory.mgraph.html#union_C"><span class="id" title="lemma">union_C</span></a> (<a class="idref" href="GraphTheory.mgraph.html#unit_graph"><span class="id" title="definition">unit_graph</span></a> <a class="idref" href="GraphTheory.reduction.html#s.a.a"><span class="id" title="variable">a</span></a>) <a class="idref" href="GraphTheory.reduction.html#s.a.H"><span class="id" title="variable">H</span></a>)) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="GraphTheory.mgraph.html#merge_isoE"><span class="id" title="lemma">merge_isoE</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.mgraph.html#union_A"><span class="id" title="lemma">union_A</span></a> <a class="idref" href="GraphTheory.reduction.html#s.a.G"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.reduction.html#s.a.H"><span class="id" title="variable">H</span></a> (<a class="idref" href="GraphTheory.mgraph.html#unit_graph"><span class="id" title="definition">unit_graph</span></a> <a class="idref" href="GraphTheory.reduction.html#s.a.a"><span class="id" title="variable">a</span></a>)) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.mgraph.html#merge_same'E"><span class="id" title="lemma">merge_same'E</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.mgraph.html#union_merge_lE'"><span class="id" title="lemma">union_merge_lE'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span> <span class="id" title="var">x</span>=&gt;[<span class="id" title="var">y</span>|[]].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="GraphTheory.reduction.html#s.a"><span class="id" title="section">a</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="merge_add_vlabelL" class="idref" href="#merge_add_vlabelL"><span class="id" title="definition">merge_add_vlabelL</span></a> (<a id="G:90" class="idref" href="#G:90"><span class="id" title="binder">G</span></a> <a id="H:91" class="idref" href="#H:91"><span class="id" title="binder">H</span></a>: <a class="idref" href="GraphTheory.reduction.html#graph2"><span class="id" title="abbreviation">graph2</span></a>) <a id="x:92" class="idref" href="#x:92"><span class="id" title="binder">x</span></a> <a id="a:93" class="idref" href="#a:93"><span class="id" title="binder">a</span></a> <a id="l:94" class="idref" href="#l:94"><span class="id" title="binder">l</span></a> <a id="i:95" class="idref" href="#i:95"><span class="id" title="binder">i</span></a> <a id="o:96" class="idref" href="#o:96"><span class="id" title="binder">o</span></a> : <br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> (<a class="idref" href="GraphTheory.mgraph.html#merge_seq"><span class="id" title="abbreviation">merge_seq</span></a> (<a class="idref" href="GraphTheory.reduction.html#G:90"><span class="id" title="variable">G</span></a><a class="idref" href="GraphTheory.mgraph.html#8aba7441f5c772b91965a43d949d969d"><span class="id" title="notation">[</span></a><a class="idref" href="GraphTheory.mgraph.html#8aba7441f5c772b91965a43d949d969d"><span class="id" title="notation">tst</span></a> <a class="idref" href="GraphTheory.reduction.html#x:92"><span class="id" title="variable">x</span></a> <a class="idref" href="GraphTheory.mgraph.html#8aba7441f5c772b91965a43d949d969d"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="GraphTheory.reduction.html#a:93"><span class="id" title="variable">a</span></a><a class="idref" href="GraphTheory.mgraph.html#8aba7441f5c772b91965a43d949d969d"><span class="id" title="notation">]</span></a> <a class="idref" href="GraphTheory.mgraph.html#593cce067104f3a6c032a4d0ed1b3e0a"><span class="id" title="notation">⊎</span></a> <a class="idref" href="GraphTheory.reduction.html#H:91"><span class="id" title="variable">H</span></a>) <a class="idref" href="GraphTheory.reduction.html#l:94"><span class="id" title="variable">l</span></a>) (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.reduction.html#i:95"><span class="id" title="variable">i</span></a>) (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.reduction.html#o:96"><span class="id" title="variable">o</span></a>)<br/>
<a class="idref" href="GraphTheory.mgraph2.html#8e44bd5a45796f7b75f6d56387c4c4fc"><span class="id" title="notation">≃2</span></a> <a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> (<a class="idref" href="GraphTheory.mgraph.html#merge_seq"><span class="id" title="abbreviation">merge_seq</span></a> (<a class="idref" href="GraphTheory.reduction.html#G:90"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.mgraph.html#593cce067104f3a6c032a4d0ed1b3e0a"><span class="id" title="notation">⊎</span></a> <a class="idref" href="GraphTheory.reduction.html#H:91"><span class="id" title="variable">H</span></a>) <a class="idref" href="GraphTheory.reduction.html#l:94"><span class="id" title="variable">l</span></a>) (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.reduction.html#i:95"><span class="id" title="variable">i</span></a>) (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.reduction.html#o:96"><span class="id" title="variable">o</span></a>) <a class="idref" href="GraphTheory.mgraph2.html#d1a020c56aba06b1adfe4f631360c190"><span class="id" title="notation">[</span></a><a class="idref" href="GraphTheory.mgraph2.html#d1a020c56aba06b1adfe4f631360c190"><span class="id" title="notation">tst</span></a> <a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="GraphTheory.reduction.html#x:92"><span class="id" title="variable">x</span></a> <a class="idref" href="GraphTheory.mgraph2.html#d1a020c56aba06b1adfe4f631360c190"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="GraphTheory.reduction.html#a:93"><span class="id" title="variable">a</span></a><a class="idref" href="GraphTheory.mgraph2.html#d1a020c56aba06b1adfe4f631360c190"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="GraphTheory.mgraph2.html#iso2_comp"><span class="id" title="definition">iso2_comp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="GraphTheory.mgraph2.html#iso_iso2'"><span class="id" title="lemma">iso_iso2'</span></a> (<span class="id" title="var">h</span>:=<a class="idref" href="GraphTheory.mgraph.html#merge_iso"><span class="id" title="definition">merge_iso</span></a> (<a class="idref" href="GraphTheory.mgraph.html#union_add_vlabel_l"><span class="id" title="lemma">union_add_vlabel_l</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;1,2: <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.mgraph.html#merge_isoE"><span class="id" title="lemma">merge_isoE</span></a>//.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="GraphTheory.mgraph2.html#iso2_comp"><span class="id" title="definition">iso2_comp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.mgraph2.html#iso_iso2'"><span class="id" title="lemma">iso_iso2'</span></a> (<span class="id" title="var">h</span>:=<a class="idref" href="GraphTheory.mgraph.html#merge_add_vlabel"><span class="id" title="lemma">merge_add_vlabel</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;1,2: <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.mgraph.html#merge_add_vlabelE"><span class="id" title="lemma">merge_add_vlabelE</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.mgraph2.html#iso_iso2'"><span class="id" title="lemma">iso_iso2'</span></a> (<span class="id" title="var">h</span>:=<a class="idref" href="GraphTheory.mgraph.html#add_vlabel_iso''"><span class="id" title="lemma">add_vlabel_iso''</span></a> (<span class="id" title="var">h</span>:=<a class="idref" href="GraphTheory.mgraph.html#merge_same"><span class="id" title="definition">mgraph.merge_same</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>)=&gt;/=.<br/>
&nbsp;&nbsp;3: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.mgraph.html#map_pairs_id"><span class="id" title="lemma">map_pairs_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.mgraph.html#merge_sameE"><span class="id" title="definition">merge_sameE</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;this&nbsp;proof&nbsp;could&nbsp;be&nbsp;made&nbsp;simpler&nbsp;since&nbsp;we&nbsp;don't&nbsp;need&nbsp;to&nbsp;Defined&nbsp;it&nbsp;*)</span><br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab129"></a><h3 class="section">Lemma 6.3</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="merge_step" class="idref" href="#merge_step"><span class="id" title="lemma">merge_step</span></a> (<a id="G':97" class="idref" href="#G':97"><span class="id" title="binder">G'</span></a> <a id="G:98" class="idref" href="#G:98"><span class="id" title="binder">G</span></a> <a id="H:99" class="idref" href="#H:99"><span class="id" title="binder">H</span></a>: <a class="idref" href="GraphTheory.reduction.html#graph2"><span class="id" title="abbreviation">graph2</span></a>) (<a id="l:100" class="idref" href="#l:100"><span class="id" title="binder">l</span></a> : <a class="idref" href="GraphTheory.equiv.html#pairs"><span class="id" title="definition">pairs</span></a> (<a class="idref" href="GraphTheory.reduction.html#G:98"><span class="id" title="variable">G</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a><a class="idref" href="GraphTheory.reduction.html#H:99"><span class="id" title="variable">H</span></a>)) : <br/>
&nbsp;&nbsp;<a class="idref" href="GraphTheory.reduction.html#admissible_l"><span class="id" title="definition">admissible_l</span></a> <a class="idref" href="GraphTheory.reduction.html#l:100"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#step"><span class="id" title="abbreviation">step</span></a> <a class="idref" href="GraphTheory.reduction.html#G:98"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.reduction.html#G':97"><span class="id" title="variable">G'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> (<a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> (<a class="idref" href="GraphTheory.mgraph.html#merge_seq"><span class="id" title="abbreviation">merge_seq</span></a> (<a class="idref" href="GraphTheory.reduction.html#G:98"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.mgraph.html#593cce067104f3a6c032a4d0ed1b3e0a"><span class="id" title="notation">⊎</span></a> <a class="idref" href="GraphTheory.reduction.html#H:99"><span class="id" title="variable">H</span></a>) <a class="idref" href="GraphTheory.reduction.html#l:100"><span class="id" title="variable">l</span></a>) (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">(</span></a><a class="idref" href="GraphTheory.mgraph.html#unl"><span class="id" title="definition">unl</span></a> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">)</span></a>) (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">(</span></a><a class="idref" href="GraphTheory.mgraph.html#unr"><span class="id" title="definition">unr</span></a> <a class="idref" href="GraphTheory.mgraph2.html#output"><span class="id" title="projection">output</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">)</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> (<a class="idref" href="GraphTheory.mgraph.html#merge_seq"><span class="id" title="abbreviation">merge_seq</span></a> (<a class="idref" href="GraphTheory.reduction.html#G':97"><span class="id" title="variable">G'</span></a> <a class="idref" href="GraphTheory.mgraph.html#593cce067104f3a6c032a4d0ed1b3e0a"><span class="id" title="notation">⊎</span></a> <a class="idref" href="GraphTheory.reduction.html#H:99"><span class="id" title="variable">H</span></a>) (<a class="idref" href="GraphTheory.reduction.html#replace_ioL"><span class="id" title="definition">replace_ioL</span></a> <a class="idref" href="GraphTheory.reduction.html#l:100"><span class="id" title="variable">l</span></a>)) (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">(</span></a><a class="idref" href="GraphTheory.mgraph.html#unl"><span class="id" title="definition">unl</span></a> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">)</span></a>) (<a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">\</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">pi</span></a> <a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">(</span></a><a class="idref" href="GraphTheory.mgraph.html#unr"><span class="id" title="definition">unr</span></a> <a class="idref" href="GraphTheory.mgraph2.html#output"><span class="id" title="projection">output</span></a><a class="idref" href="GraphTheory.finite_quotient.html#1c61adbe26792064f13e312571791934"><span class="id" title="notation">)</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">A</span> <span class="id" title="var">B</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.reduction.html#cons_iso_steps"><span class="id" title="lemma">cons_iso_steps</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.reduction.html#merge_add_vertexL"><span class="id" title="lemma">merge_add_vertexL</span></a> <span class="id" title="var">A</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="GraphTheory.rewriting.html#one_step"><span class="id" title="instance">one_step</span></a> (<a class="idref" href="GraphTheory.rewriting.html#step_v0"><span class="id" title="constructor">step_v0</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.reduction.html#cons_iso_steps"><span class="id" title="lemma">cons_iso_steps</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.reduction.html#merge_add_edgeL"><span class="id" title="lemma">merge_add_edgeL</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.reduction.html#cons_iso_steps"><span class="id" title="lemma">cons_iso_steps</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.mgraph2.html#add_edge2_iso"><span class="id" title="lemma">add_edge2_iso</span></a> (<a class="idref" href="GraphTheory.reduction.html#merge_add_vertexL"><span class="id" title="lemma">merge_add_vertexL</span></a> <span class="id" title="var">A</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="GraphTheory.reduction.html#merge_add_vertexLE"><span class="id" title="lemma">merge_add_vertexLE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.reduction.html#cons_step_steps"><span class="id" title="lemma">cons_step_steps</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.rewriting.html#step_v1"><span class="id" title="constructor">step_v1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#iso_step"><span class="id" title="constructor">iso_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.reduction.html#merge_add_vlabelL"><span class="id" title="definition">merge_add_vlabelL</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.reduction.html#cons_iso_steps"><span class="id" title="lemma">cons_iso_steps</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.reduction.html#merge_add_edgeL"><span class="id" title="lemma">merge_add_edgeL</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.reduction.html#cons_iso_steps"><span class="id" title="lemma">cons_iso_steps</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.mgraph2.html#add_edge2_iso"><span class="id" title="lemma">add_edge2_iso</span></a> (<a class="idref" href="GraphTheory.reduction.html#merge_add_edgeL"><span class="id" title="lemma">merge_add_edgeL</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="GraphTheory.reduction.html#merge_add_edgeLE"><span class="id" title="lemma">merge_add_edgeLE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.reduction.html#cons_iso_steps"><span class="id" title="lemma">cons_iso_steps</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.mgraph2.html#add_edge2_iso"><span class="id" title="lemma">add_edge2_iso</span></a> (<a class="idref" href="GraphTheory.mgraph2.html#add_edge2_iso"><span class="id" title="lemma">add_edge2_iso</span></a> (<a class="idref" href="GraphTheory.reduction.html#merge_add_vertexL"><span class="id" title="lemma">merge_add_vertexL</span></a> <span class="id" title="var">A</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">rewrite</span> {1}<a class="idref" href="GraphTheory.reduction.html#merge_add_vertexLE"><span class="id" title="lemma">merge_add_vertexLE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.reduction.html#cons_step_steps"><span class="id" title="lemma">cons_step_steps</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.rewriting.html#step_v2"><span class="id" title="constructor">step_v2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#iso_step"><span class="id" title="constructor">iso_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.reduction.html#merge_add_edgeL"><span class="id" title="lemma">merge_add_edgeL</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.reduction.html#cons_iso_steps"><span class="id" title="lemma">cons_iso_steps</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.reduction.html#merge_add_edgeL"><span class="id" title="lemma">merge_add_edgeL</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.reduction.html#cons_step_steps"><span class="id" title="lemma">cons_step_steps</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.rewriting.html#step_e0"><span class="id" title="constructor">step_e0</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#iso_step"><span class="id" title="constructor">iso_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.reduction.html#merge_add_vlabelL"><span class="id" title="definition">merge_add_vlabelL</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.reduction.html#replace_ioE"><span class="id" title="lemma">replace_ioE</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.reduction.html#cons_iso_steps"><span class="id" title="lemma">cons_iso_steps</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.reduction.html#merge_add_edgeL"><span class="id" title="lemma">merge_add_edgeL</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.reduction.html#cons_iso_steps"><span class="id" title="lemma">cons_iso_steps</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.mgraph2.html#add_edge2_iso"><span class="id" title="lemma">add_edge2_iso</span></a> (<a class="idref" href="GraphTheory.reduction.html#merge_add_edgeL"><span class="id" title="lemma">merge_add_edgeL</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="GraphTheory.reduction.html#merge_add_edgeLE"><span class="id" title="lemma">merge_add_edgeLE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.reduction.html#cons_step_steps"><span class="id" title="lemma">cons_step_steps</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.rewriting.html#step_e2"><span class="id" title="constructor">step_e2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#iso_step"><span class="id" title="constructor">iso_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="GraphTheory.reduction.html#merge_add_edgeL"><span class="id" title="lemma">merge_add_edgeL</span></a> (<span class="id" title="var">u</span>:=<span class="id" title="var">u</span><a class="idref" href="GraphTheory.pttdom.html#69d3b90cce11ef56b5904019f6238a9b"><span class="id" title="notation">∥</span></a><span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.reduction.html#replace_ioE"><span class="id" title="lemma">replace_ioE</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="step_IO" class="idref" href="#step_IO"><span class="id" title="lemma">step_IO</span></a> <a id="G:101" class="idref" href="#G:101"><span class="id" title="binder">G</span></a> <a id="G':102" class="idref" href="#G':102"><span class="id" title="binder">G'</span></a>: <a class="idref" href="GraphTheory.reduction.html#step"><span class="id" title="abbreviation">step</span></a> <a class="idref" href="GraphTheory.reduction.html#G:101"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.reduction.html#G':102"><span class="id" title="variable">G'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#28a3089bb29d95d7bdc98c2c73b31552"><span class="id" title="notation">==</span></a> <a class="idref" href="GraphTheory.mgraph2.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#28a3089bb29d95d7bdc98c2c73b31552"><span class="id" title="notation">:&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#G:101"><span class="id" title="variable">G</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#28a3089bb29d95d7bdc98c2c73b31552"><span class="id" title="notation">==</span></a> <a class="idref" href="GraphTheory.mgraph2.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#28a3089bb29d95d7bdc98c2c73b31552"><span class="id" title="notation">:&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#G':102"><span class="id" title="variable">G'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="step_to_steps" class="idref" href="#step_to_steps"><span class="id" title="lemma">step_to_steps</span></a> <a id="f:103" class="idref" href="#f:103"><span class="id" title="binder">f</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="GraphTheory.setoid_bigop.html#Setoid.Exports.eqv"><span class="id" title="definition">eqv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="GraphTheory.setoid_bigop.html#Setoid.Exports.eqv"><span class="id" title="definition">eqv</span></a>) <a class="idref" href="GraphTheory.reduction.html#f:103"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="GraphTheory.reduction.html#step"><span class="id" title="abbreviation">step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a>) <a class="idref" href="GraphTheory.reduction.html#f:103"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a>) <a class="idref" href="GraphTheory.reduction.html#f:103"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">If</span> <span class="id" title="var">Sf</span> <span class="id" title="var">G</span> <span class="id" title="var">G'</span> <span class="id" title="var">S</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">S</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">G</span> <span class="id" title="var">G'</span> <span class="id" title="var">I</span>|<span class="id" title="var">G</span> <span class="id" title="var">G'</span> <span class="id" title="var">F</span> <span class="id" title="var">H'</span> <span class="id" title="var">I</span> <span class="id" title="var">S</span> <span class="id" title="var">Ss</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#isop_step"><span class="id" title="instance">isop_step</span></a>, <span class="id" title="var">If</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#isop_step"><span class="id" title="instance">isop_step</span></a>, <span class="id" title="var">If</span>. <span class="id" title="tactic">exists</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Sf</span>, <span class="id" title="var">S</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab130"></a><h3 class="section">Lemma 6.2</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Instance</span> <a id="cnv_steps" class="idref" href="#cnv_steps"><span class="id" title="instance">cnv_steps</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a>) (<a class="idref" href="GraphTheory.pttdom.html#Ops.Exports.cnv"><span class="id" title="definition">cnv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="GraphTheory.reduction.html#graph2"><span class="id" title="abbreviation">graph2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#graph2"><span class="id" title="abbreviation">graph2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="GraphTheory.reduction.html#step_to_steps"><span class="id" title="lemma">step_to_steps</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt;<span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">S</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="GraphTheory.rewriting.html#one_step"><span class="id" title="instance">one_step</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">S</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (@<a class="idref" href="GraphTheory.rewriting.html#step_v0"><span class="id" title="constructor">step_v0</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> <span class="id" title="var">G</span> <a class="idref" href="GraphTheory.mgraph2.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a>) <span class="id" title="var">alpha</span>).<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (@<a class="idref" href="GraphTheory.rewriting.html#step_v1"><span class="id" title="constructor">step_v1</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> <span class="id" title="var">G</span> <a class="idref" href="GraphTheory.mgraph2.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">u</span> <span class="id" title="var">alpha</span>).<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (@<a class="idref" href="GraphTheory.rewriting.html#step_v2"><span class="id" title="constructor">step_v2</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> <span class="id" title="var">G</span> <a class="idref" href="GraphTheory.mgraph2.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">u</span> <span class="id" title="var">alpha</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (@<a class="idref" href="GraphTheory.rewriting.html#step_e0"><span class="id" title="constructor">step_e0</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> <span class="id" title="var">G</span> <a class="idref" href="GraphTheory.mgraph2.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">u</span>).<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (@<a class="idref" href="GraphTheory.rewriting.html#step_e2"><span class="id" title="constructor">step_e2</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> <span class="id" title="var">G</span> <a class="idref" href="GraphTheory.mgraph2.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="dom_steps" class="idref" href="#dom_steps"><span class="id" title="instance">dom_steps</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a>) (@<a class="idref" href="GraphTheory.pttdom.html#Ops.Exports.dom"><span class="id" title="definition">dom</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="GraphTheory.reduction.html#step_to_steps"><span class="id" title="lemma">step_to_steps</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt;<span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">S</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="GraphTheory.rewriting.html#one_step"><span class="id" title="instance">one_step</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">S</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (@<a class="idref" href="GraphTheory.rewriting.html#step_v0"><span class="id" title="constructor">step_v0</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> <span class="id" title="var">G</span> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a>) <span class="id" title="var">alpha</span>).<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (@<a class="idref" href="GraphTheory.rewriting.html#step_v1"><span class="id" title="constructor">step_v1</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> <span class="id" title="var">G</span> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">u</span> <span class="id" title="var">alpha</span>).<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (@<a class="idref" href="GraphTheory.rewriting.html#step_v2"><span class="id" title="constructor">step_v2</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> <span class="id" title="var">G</span> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">u</span> <span class="id" title="var">alpha</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (@<a class="idref" href="GraphTheory.rewriting.html#step_e0"><span class="id" title="constructor">step_e0</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> <span class="id" title="var">G</span> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">u</span>).<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (@<a class="idref" href="GraphTheory.rewriting.html#step_e2"><span class="id" title="constructor">step_e2</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.mgraph2.html#point"><span class="id" title="abbreviation">point</span></a> <span class="id" title="var">G</span> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dot_steps_l" class="idref" href="#dot_steps_l"><span class="id" title="lemma">dot_steps_l</span></a> <a id="G:104" class="idref" href="#G:104"><span class="id" title="binder">G</span></a> <a id="G':105" class="idref" href="#G':105"><span class="id" title="binder">G'</span></a> <a id="H:106" class="idref" href="#H:106"><span class="id" title="binder">H</span></a>: <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="GraphTheory.reduction.html#G:104"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.reduction.html#G':105"><span class="id" title="variable">G'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> (<a class="idref" href="GraphTheory.reduction.html#G:104"><span class="id" title="variable">G</span></a><a class="idref" href="GraphTheory.pttdom.html#7b18631e6be9caa8dd39c1c01a8e3dc2"><span class="id" title="notation">·</span></a><a class="idref" href="GraphTheory.reduction.html#H:106"><span class="id" title="variable">H</span></a>) (<a class="idref" href="GraphTheory.reduction.html#G':105"><span class="id" title="variable">G'</span></a><a class="idref" href="GraphTheory.pttdom.html#7b18631e6be9caa8dd39c1c01a8e3dc2"><span class="id" title="notation">·</span></a><a class="idref" href="GraphTheory.reduction.html#H:106"><span class="id" title="variable">H</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="GraphTheory.reduction.html#step_to_steps"><span class="id" title="lemma">step_to_steps</span></a> (<span class="id" title="var">f</span>:=<span class="id" title="keyword">fun</span> <a id="G:108" class="idref" href="#G:108"><span class="id" title="binder">G</span></a> =&gt; <a class="idref" href="GraphTheory.reduction.html#G:107"><span class="id" title="variable">G</span></a><a class="idref" href="GraphTheory.pttdom.html#7b18631e6be9caa8dd39c1c01a8e3dc2"><span class="id" title="notation">·</span></a><span class="id" title="var">H</span>)) =&gt; {<span class="id" title="var">G</span> <span class="id" title="var">G'</span>}.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="GraphTheory.pttdom.html#Pttdom.Exports.dot_eqv"><span class="id" title="definition">dot_eqv</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">G</span> <span class="id" title="var">G'</span> <span class="id" title="var">GG'</span>. <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> (@<a class="idref" href="GraphTheory.reduction.html#merge_step"><span class="id" title="lemma">merge_step</span></a> <span class="id" title="var">G'</span>) =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="GraphTheory.reduction.html#admissible_l"><span class="id" title="definition">admissible_l</span></a>/=. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="GraphTheory.reduction.html#replace_ioL"><span class="id" title="definition">replace_ioL</span></a>/= <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dot_steps_r" class="idref" href="#dot_steps_r"><span class="id" title="lemma">dot_steps_r</span></a> <a id="G:109" class="idref" href="#G:109"><span class="id" title="binder">G</span></a> <a id="G':110" class="idref" href="#G':110"><span class="id" title="binder">G'</span></a> <a id="H:111" class="idref" href="#H:111"><span class="id" title="binder">H</span></a>: <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="GraphTheory.reduction.html#G:109"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.reduction.html#G':110"><span class="id" title="variable">G'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> (<a class="idref" href="GraphTheory.reduction.html#H:111"><span class="id" title="variable">H</span></a><a class="idref" href="GraphTheory.pttdom.html#7b18631e6be9caa8dd39c1c01a8e3dc2"><span class="id" title="notation">·</span></a><a class="idref" href="GraphTheory.reduction.html#G:109"><span class="id" title="variable">G</span></a>) (<a class="idref" href="GraphTheory.reduction.html#H:111"><span class="id" title="variable">H</span></a><a class="idref" href="GraphTheory.pttdom.html#7b18631e6be9caa8dd39c1c01a8e3dc2"><span class="id" title="notation">·</span></a><a class="idref" href="GraphTheory.reduction.html#G':110"><span class="id" title="variable">G'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">GG'</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.pttdom.html#dotcnv"><span class="id" title="lemma">dotcnv</span></a>. <span class="id" title="tactic">transitivity</span> (<a class="idref" href="GraphTheory.pttdom.html#3a06ed0b5be4873295b1f250adda5165"><span class="id" title="notation">(</span></a><span class="id" title="var">G'</span><a class="idref" href="GraphTheory.pttdom.html#3a06ed0b5be4873295b1f250adda5165"><span class="id" title="notation">°</span></a><a class="idref" href="GraphTheory.pttdom.html#7b18631e6be9caa8dd39c1c01a8e3dc2"><span class="id" title="notation">·</span></a><span class="id" title="var">H</span><a class="idref" href="GraphTheory.pttdom.html#3a06ed0b5be4873295b1f250adda5165"><span class="id" title="notation">°)°</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.reduction.html#cnv_steps"><span class="id" title="instance">cnv_steps</span></a>, <a class="idref" href="GraphTheory.reduction.html#dot_steps_l"><span class="id" title="lemma">dot_steps_l</span></a>, <a class="idref" href="GraphTheory.reduction.html#cnv_steps"><span class="id" title="instance">cnv_steps</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="GraphTheory.pttdom.html#dotcnv"><span class="id" title="lemma">dotcnv</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="dot_steps" class="idref" href="#dot_steps"><span class="id" title="instance">dot_steps</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a>) (@<a class="idref" href="GraphTheory.pttdom.html#Ops.Exports.dot"><span class="id" title="definition">dot</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">etransitivity</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.reduction.html#dot_steps_l"><span class="id" title="lemma">dot_steps_l</span></a> | <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.reduction.html#dot_steps_r"><span class="id" title="lemma">dot_steps_r</span></a>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="par_steps_l" class="idref" href="#par_steps_l"><span class="id" title="lemma">par_steps_l</span></a> <a id="G:112" class="idref" href="#G:112"><span class="id" title="binder">G</span></a> <a id="G':113" class="idref" href="#G':113"><span class="id" title="binder">G'</span></a> <a id="H:114" class="idref" href="#H:114"><span class="id" title="binder">H</span></a>: <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="GraphTheory.reduction.html#G:112"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.reduction.html#G':113"><span class="id" title="variable">G'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> (<a class="idref" href="GraphTheory.reduction.html#G:112"><span class="id" title="variable">G</span></a><a class="idref" href="GraphTheory.pttdom.html#69d3b90cce11ef56b5904019f6238a9b"><span class="id" title="notation">∥</span></a><a class="idref" href="GraphTheory.reduction.html#H:114"><span class="id" title="variable">H</span></a>) (<a class="idref" href="GraphTheory.reduction.html#G':113"><span class="id" title="variable">G'</span></a><a class="idref" href="GraphTheory.pttdom.html#69d3b90cce11ef56b5904019f6238a9b"><span class="id" title="notation">∥</span></a><a class="idref" href="GraphTheory.reduction.html#H:114"><span class="id" title="variable">H</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="GraphTheory.reduction.html#step_to_steps"><span class="id" title="lemma">step_to_steps</span></a> (<span class="id" title="var">f</span>:=<span class="id" title="keyword">fun</span> <a id="G:116" class="idref" href="#G:116"><span class="id" title="binder">G</span></a> =&gt; (<a class="idref" href="GraphTheory.reduction.html#G:115"><span class="id" title="variable">G</span></a><a class="idref" href="GraphTheory.pttdom.html#69d3b90cce11ef56b5904019f6238a9b"><span class="id" title="notation">∥</span></a><span class="id" title="var">H</span>)))  =&gt; {<span class="id" title="var">G</span> <span class="id" title="var">G'</span>}.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">G</span> <span class="id" title="var">G'</span> <span class="id" title="var">I</span>; <span class="id" title="tactic">exact</span>: <a class="idref" href="GraphTheory.pttdom.html#Pttdom.Exports.par_eqv"><span class="id" title="definition">par_eqv</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">G</span> <span class="id" title="var">G'</span> <span class="id" title="var">step_G_G'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span>: (@<a class="idref" href="GraphTheory.reduction.html#merge_step"><span class="id" title="lemma">merge_step</span></a> <span class="id" title="var">G'</span>) =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="GraphTheory.reduction.html#admissible_l"><span class="id" title="definition">admissible_l</span></a>/= !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="GraphTheory.reduction.html#replace_ioL"><span class="id" title="definition">replace_ioL</span></a>/= !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a>. <span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a> =&gt; [<span class="id" title="var">E</span>|//].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="GraphTheory.reduction.html#step_IO"><span class="id" title="lemma">step_IO</span></a> <span class="id" title="var">step_G_G'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -[<span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="GraphTheory.mgraph2.html#output"><span class="id" title="projection">output</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="GraphTheory.mgraph2.html#input"><span class="id" title="projection">input</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>](<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">E</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="par_steps_r" class="idref" href="#par_steps_r"><span class="id" title="lemma">par_steps_r</span></a> <a id="G:117" class="idref" href="#G:117"><span class="id" title="binder">G</span></a> <a id="G':118" class="idref" href="#G':118"><span class="id" title="binder">G'</span></a> <a id="H:119" class="idref" href="#H:119"><span class="id" title="binder">H</span></a>: <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="GraphTheory.reduction.html#G:117"><span class="id" title="variable">G</span></a> <a class="idref" href="GraphTheory.reduction.html#G':118"><span class="id" title="variable">G'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> (<a class="idref" href="GraphTheory.reduction.html#H:119"><span class="id" title="variable">H</span></a><a class="idref" href="GraphTheory.pttdom.html#69d3b90cce11ef56b5904019f6238a9b"><span class="id" title="notation">∥</span></a><a class="idref" href="GraphTheory.reduction.html#G:117"><span class="id" title="variable">G</span></a>) (<a class="idref" href="GraphTheory.reduction.html#H:119"><span class="id" title="variable">H</span></a><a class="idref" href="GraphTheory.pttdom.html#69d3b90cce11ef56b5904019f6238a9b"><span class="id" title="notation">∥</span></a><a class="idref" href="GraphTheory.reduction.html#G':118"><span class="id" title="variable">G'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.pttdom.html#Pttdom.Exports.parC"><span class="id" title="definition">parC</span></a>. <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.reduction.html#par_steps_l"><span class="id" title="lemma">par_steps_l</span></a>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.pttdom.html#Pttdom.Exports.parC"><span class="id" title="definition">parC</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="par_steps" class="idref" href="#par_steps"><span class="id" title="instance">par_steps</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a>) (@<a class="idref" href="GraphTheory.pttdom.html#Ops.Exports.par"><span class="id" title="definition">par</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">etransitivity</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.reduction.html#par_steps_l"><span class="id" title="lemma">par_steps_l</span></a> | <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.reduction.html#par_steps_r"><span class="id" title="lemma">par_steps_r</span></a>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="GraphTheory.reduction.html#s"><span class="id" title="section">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eqvEcnv" class="idref" href="#eqvEcnv"><span class="id" title="lemma">eqvEcnv</span></a> (<a id="X:120" class="idref" href="#X:120"><span class="id" title="binder">X</span></a> : <a class="idref" href="GraphTheory.pttdom.html#pttdom"><span class="id" title="abbreviation">pttdom</span></a>) (<a id="x:121" class="idref" href="#x:121"><span class="id" title="binder">x</span></a> <a id="y:122" class="idref" href="#y:122"><span class="id" title="binder">y</span></a> : <a class="idref" href="GraphTheory.reduction.html#X:120"><span class="id" title="variable">X</span></a>) : <a class="idref" href="GraphTheory.reduction.html#x:121"><span class="id" title="variable">x</span></a> <a class="idref" href="GraphTheory.structures.html#42a1b1b20aa001df7956584d0b18d89e"><span class="id" title="notation">≡'</span></a> <a class="idref" href="GraphTheory.reduction.html#y:122"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#x:121"><span class="id" title="variable">x</span></a> <a class="idref" href="GraphTheory.setoid_bigop.html#ab6f37a4479b45d501191f1ea21e4b71"><span class="id" title="notation">≡</span></a> <a class="idref" href="GraphTheory.reduction.html#y:122"><span class="id" title="variable">y</span></a><a class="idref" href="GraphTheory.pttdom.html#3a06ed0b5be4873295b1f250adda5165"><span class="id" title="notation">°</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">HB</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">structures</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab131"></a><h2 class="section">reduction lemma</h2>

</div>
<div class="code">
<span class="comment">(*&nbsp;(in&nbsp;the&nbsp;initial&nbsp;pttdom&nbsp;algebra&nbsp;of&nbsp;terms)&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <a id="s'" class="idref" href="#s'"><span class="id" title="section">s'</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a id="s'.A" class="idref" href="#s'.A"><span class="id" title="variable">A</span></a>: <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="term" class="idref" href="#term"><span class="id" title="abbreviation">term</span></a> := (<a class="idref" href="GraphTheory.pttdom.html#term"><span class="id" title="inductive">pttdom.term</span></a> <a class="idref" href="GraphTheory.reduction.html#s'.A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="nterm" class="idref" href="#nterm"><span class="id" title="abbreviation">nterm</span></a> := (<a class="idref" href="GraphTheory.pttdom.html#nterm"><span class="id" title="inductive">pttdom.nterm</span></a> <a class="idref" href="GraphTheory.reduction.html#s'.A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="test" class="idref" href="#test"><span class="id" title="abbreviation">test</span></a> := (<a class="idref" href="GraphTheory.pttdom.html#test"><span class="id" title="record">test</span></a> (<a class="idref" href="GraphTheory.pttdom.html#term_is_a_Pttdom"><span class="id" title="definition">term_is_a_Pttdom</span></a> <a class="idref" href="GraphTheory.reduction.html#s'.A"><span class="id" title="variable">A</span></a>)).<br/>
<span class="id" title="keyword">Notation</span> <a id="tgraph2" class="idref" href="#tgraph2"><span class="id" title="abbreviation">tgraph2</span></a> := (<a class="idref" href="GraphTheory.mgraph2.html#graph2"><span class="id" title="record">graph2</span></a> <a class="idref" href="GraphTheory.reduction.html#test"><span class="id" title="abbreviation">test</span></a> <a class="idref" href="GraphTheory.reduction.html#term"><span class="id" title="abbreviation">term</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="graph" class="idref" href="#graph"><span class="id" title="abbreviation">graph</span></a> := (<a class="idref" href="GraphTheory.mgraph.html#graph"><span class="id" title="record">graph</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> (<a class="idref" href="GraphTheory.setoid_bigop.html#flat"><span class="id" title="definition">flat</span></a> <a class="idref" href="GraphTheory.reduction.html#s'.A"><span class="id" title="variable">A</span></a>)).<br/>
<span class="id" title="keyword">Notation</span> <a id="graph2" class="idref" href="#graph2"><span class="id" title="abbreviation">graph2</span></a> := (<a class="idref" href="GraphTheory.mgraph2.html#graph2"><span class="id" title="record">graph2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> (<a class="idref" href="GraphTheory.setoid_bigop.html#flat"><span class="id" title="definition">flat</span></a> <a class="idref" href="GraphTheory.reduction.html#s'.A"><span class="id" title="variable">A</span></a>)).<br/>
<span class="id" title="keyword">Notation</span> <a id="step" class="idref" href="#step"><span class="id" title="abbreviation">step</span></a> := (@<a class="idref" href="GraphTheory.rewriting.html#step"><span class="id" title="inductive">step</span></a> (<a class="idref" href="GraphTheory.pttdom.html#term_is_a_Pttdom"><span class="id" title="definition">term_is_a_Pttdom</span></a> <a class="idref" href="GraphTheory.reduction.html#s'.A"><span class="id" title="variable">A</span></a>)).<br/>
<span class="id" title="keyword">Notation</span> <a id="steps" class="idref" href="#steps"><span class="id" title="abbreviation">steps</span></a> := (@<a class="idref" href="GraphTheory.rewriting.html#steps"><span class="id" title="inductive">steps</span></a> (<a class="idref" href="GraphTheory.pttdom.html#term_is_a_Pttdom"><span class="id" title="definition">term_is_a_Pttdom</span></a> <a class="idref" href="GraphTheory.reduction.html#s'.A"><span class="id" title="variable">A</span></a>)).<br/>

<br/>
</div>

<div class="doc">
<a id="lab132"></a><h3 class="section">graphs of terms and normal terms</h3>

</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;function&nbsp;g^A&nbsp;from&nbsp;the&nbsp;end&nbsp;of&nbsp;Section&nbsp;5&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="graph_of_term" class="idref" href="#graph_of_term"><span class="id" title="definition">graph_of_term</span></a>: <a class="idref" href="GraphTheory.reduction.html#term"><span class="id" title="abbreviation">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#graph2"><span class="id" title="abbreviation">graph2</span></a> := <a class="idref" href="GraphTheory.pttdom.html#eval"><span class="id" title="definition">pttdom.eval</span></a> (<span class="id" title="keyword">fun</span> <a id="a:124" class="idref" href="#a:124"><span class="id" title="binder">a</span></a>: <a class="idref" href="GraphTheory.setoid_bigop.html#flat"><span class="id" title="definition">flat</span></a> <a class="idref" href="GraphTheory.reduction.html#s'.A"><span class="id" title="variable">A</span></a> =&gt; <a class="idref" href="GraphTheory.mgraph2.html#g2_var"><span class="id" title="definition">g2_var</span></a> <span class="id" title="var">_</span> <a class="idref" href="GraphTheory.reduction.html#a:124"><span class="id" title="variable">a</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;function&nbsp;g^T&nbsp;from&nbsp;the&nbsp;end&nbsp;of&nbsp;Section&nbsp;5&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="tgraph_of_term" class="idref" href="#tgraph_of_term"><span class="id" title="definition">tgraph_of_term</span></a>: <a class="idref" href="GraphTheory.reduction.html#term"><span class="id" title="abbreviation">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="GraphTheory.reduction.html#tgraph2"><span class="id" title="abbreviation">tgraph2</span></a> := <a class="idref" href="GraphTheory.pttdom.html#eval"><span class="id" title="definition">pttdom.eval</span></a> (<span class="id" title="keyword">fun</span> <a id="a:125" class="idref" href="#a:125"><span class="id" title="binder">a</span></a>: <a class="idref" href="GraphTheory.reduction.html#s'.A"><span class="id" title="variable">A</span></a> =&gt; <a class="idref" href="GraphTheory.mgraph2.html#g2_var"><span class="id" title="definition">g2_var</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.pttdom.html#tm_var"><span class="id" title="constructor">pttdom.tm_var</span></a> <a class="idref" href="GraphTheory.reduction.html#a:125"><span class="id" title="variable">a</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="tgraph_of_nterm" class="idref" href="#tgraph_of_nterm"><span class="id" title="definition">tgraph_of_nterm</span></a> (<a id="t:126" class="idref" href="#t:126"><span class="id" title="binder">t</span></a>: <a class="idref" href="GraphTheory.reduction.html#nterm"><span class="id" title="abbreviation">nterm</span></a>): <a class="idref" href="GraphTheory.reduction.html#tgraph2"><span class="id" title="abbreviation">tgraph2</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="GraphTheory.reduction.html#t:126"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="GraphTheory.pttdom.html#nt_test"><span class="id" title="constructor">nt_test</span></a> <span class="id" title="var">a</span> =&gt; <a class="idref" href="GraphTheory.mgraph2.html#unit_graph2"><span class="id" title="definition">unit_graph2</span></a> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;| <a class="idref" href="GraphTheory.pttdom.html#nt_conn"><span class="id" title="constructor">nt_conn</span></a> <span class="id" title="var">a</span> <span class="id" title="var">u</span> <span class="id" title="var">b</span> =&gt; <a class="idref" href="GraphTheory.mgraph2.html#edge_graph2"><span class="id" title="definition">edge_graph2</span></a> <span class="id" title="var">a</span> <span class="id" title="var">u</span> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;reduction&nbsp;lemma&nbsp;(Proposition&nbsp;7.2)&nbsp;*)</span><br/>
<span class="id" title="keyword">Proposition</span> <a id="reduce" class="idref" href="#reduce"><span class="id" title="lemma">reduce</span></a> (<a id="u:128" class="idref" href="#u:128"><span class="id" title="binder">u</span></a>: <a class="idref" href="GraphTheory.reduction.html#term"><span class="id" title="abbreviation">term</span></a>): <a class="idref" href="GraphTheory.reduction.html#steps"><span class="id" title="abbreviation">steps</span></a> (<a class="idref" href="GraphTheory.reduction.html#tgraph_of_term"><span class="id" title="definition">tgraph_of_term</span></a> <a class="idref" href="GraphTheory.reduction.html#u:128"><span class="id" title="variable">u</span></a>) (<a class="idref" href="GraphTheory.reduction.html#tgraph_of_nterm"><span class="id" title="definition">tgraph_of_nterm</span></a> (<a class="idref" href="GraphTheory.pttdom.html#nt"><span class="id" title="definition">nt</span></a> <a class="idref" href="GraphTheory.reduction.html#u:128"><span class="id" title="variable">u</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">u</span>=&gt;//=.<br/>
&nbsp;&nbsp;- <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.reduction.html#dot_steps"><span class="id" title="instance">dot_steps</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">IHu1</span>|<span class="id" title="tactic">apply</span> <span class="id" title="var">IHu2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="GraphTheory.pttdom.html#nt"><span class="id" title="definition">nt</span></a> <span class="id" title="var">u1</span>)=&gt;[<span class="id" title="var">a</span>|<span class="id" title="var">a</span> <span class="id" title="var">u</span> <span class="id" title="var">b</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="GraphTheory.pttdom.html#nt"><span class="id" title="definition">nt</span></a> <span class="id" title="var">u2</span>)=&gt;[<span class="id" title="var">c</span>|<span class="id" title="var">c</span> <span class="id" title="var">v</span> <span class="id" title="var">d</span>]=&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#iso_step"><span class="id" title="constructor">iso_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#dot2unit_r"><span class="id" title="lemma">dot2unit_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#add_vlabel2_unit"><span class="id" title="lemma">add_vlabel2_unit</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#iso_step"><span class="id" title="constructor">iso_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#dot2unit_l"><span class="id" title="lemma">dot2unit_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#add_vlabel2_edge"><span class="id" title="lemma">add_vlabel2_edge</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#edge_graph2_iso"><span class="id" title="instance">edge_graph2_iso</span></a>=&gt;//=. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="GraphTheory.setoid_bigop.html#monC"><span class="id" title="method">monC</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#iso_step"><span class="id" title="constructor">iso_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#dot2unit_r"><span class="id" title="lemma">dot2unit_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#add_vlabel2_edge"><span class="id" title="lemma">add_vlabel2_edge</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#isop_step"><span class="id" title="instance">isop_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#one_step"><span class="id" title="instance">one_step</span></a>, (<a class="idref" href="GraphTheory.rewriting.html#step_v2"><span class="id" title="constructor">step_v2</span></a> (<span class="id" title="var">G</span>:=<a class="idref" href="GraphTheory.mgraph2.html#two_graph2"><span class="id" title="definition">two_graph2</span></a> <span class="id" title="var">a</span> <span class="id" title="var">d</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <span class="id" title="var">u</span> <a class="idref" href="GraphTheory.pttdom.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">[</span></a><a class="idref" href="GraphTheory.pttdom.html#elem_of"><span class="id" title="projection">elem_of</span></a> <span class="id" title="var">b</span><a class="idref" href="GraphTheory.pttdom.html#7b18631e6be9caa8dd39c1c01a8e3dc2"><span class="id" title="notation">·</span></a><a class="idref" href="GraphTheory.pttdom.html#elem_of"><span class="id" title="projection">elem_of</span></a> <span class="id" title="var">c</span><a class="idref" href="GraphTheory.pttdom.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">]</span></a> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="GraphTheory.reduction.html#dot_edges"><span class="id" title="lemma">dot_edges</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#isop_step"><span class="id" title="instance">isop_step</span></a>. <span class="id" title="tactic">exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="GraphTheory.mgraph2.html#add_edge2_iso'"><span class="id" title="lemma">add_edge2_iso'</span></a> <a class="idref" href="GraphTheory.mgraph2.html#iso2_id"><span class="id" title="definition">iso2_id</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="GraphTheory.pttdom.html#Pttdom.Exports.dotA"><span class="id" title="definition">dotA</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.reduction.html#par_steps"><span class="id" title="instance">par_steps</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">IHu1</span>|<span class="id" title="tactic">apply</span> <span class="id" title="var">IHu2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="GraphTheory.pttdom.html#nt"><span class="id" title="definition">nt</span></a> <span class="id" title="var">u1</span>)=&gt;[<span class="id" title="var">a</span>|<span class="id" title="var">a</span> <span class="id" title="var">u</span> <span class="id" title="var">b</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="GraphTheory.pttdom.html#nt"><span class="id" title="definition">nt</span></a> <span class="id" title="var">u2</span>)=&gt;[<span class="id" title="var">c</span>|<span class="id" title="var">c</span> <span class="id" title="var">v</span> <span class="id" title="var">d</span>]=&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#isop_step"><span class="id" title="instance">isop_step</span></a>. <span class="id" title="tactic">exists</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#par2unitunit"><span class="id" title="lemma">par2unitunit</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#isop_step"><span class="id" title="instance">isop_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#one_step"><span class="id" title="instance">one_step</span></a>, (<a class="idref" href="GraphTheory.rewriting.html#step_e0"><span class="id" title="constructor">step_e0</span></a> (<span class="id" title="var">G</span>:=<a class="idref" href="GraphTheory.mgraph2.html#unit_graph2"><span class="id" title="definition">unit_graph2</span></a> (<span class="id" title="var">c</span><a class="idref" href="GraphTheory.structures.html#c11b60d97e1ef9ba754bb71125d7dcca"><span class="id" title="notation">⊗(</span></a><span class="id" title="var">d</span><a class="idref" href="GraphTheory.structures.html#c11b60d97e1ef9ba754bb71125d7dcca"><span class="id" title="notation">⊗</span></a><span class="id" title="var">a</span><a class="idref" href="GraphTheory.structures.html#c11b60d97e1ef9ba754bb71125d7dcca"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">CM</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.pttdom.html#Pttdom.Exports.parC"><span class="id" title="definition">parC</span></a>. <span class="id" title="tactic">exists</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="GraphTheory.mgraph2.html#par2edgeunit"><span class="id" title="lemma">par2edgeunit</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#isop_step"><span class="id" title="instance">isop_step</span></a>. <span class="id" title="tactic">exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#add_vlabel2_unit"><span class="id" title="lemma">add_vlabel2_unit</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#unit_graph2_iso"><span class="id" title="instance">unit_graph2_iso</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="GraphTheory.pttdom.html#reduce_shuffle"><span class="id" title="lemma">reduce_shuffle</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#isop_step"><span class="id" title="instance">isop_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#one_step"><span class="id" title="instance">one_step</span></a>, (<a class="idref" href="GraphTheory.rewriting.html#step_e0"><span class="id" title="constructor">step_e0</span></a> (<span class="id" title="var">G</span>:=<a class="idref" href="GraphTheory.mgraph2.html#unit_graph2"><span class="id" title="definition">unit_graph2</span></a> (<span class="id" title="var">a</span><a class="idref" href="GraphTheory.structures.html#c11b60d97e1ef9ba754bb71125d7dcca"><span class="id" title="notation">⊗(</span></a><span class="id" title="var">b</span><a class="idref" href="GraphTheory.structures.html#c11b60d97e1ef9ba754bb71125d7dcca"><span class="id" title="notation">⊗</span></a><span class="id" title="var">c</span><a class="idref" href="GraphTheory.structures.html#c11b60d97e1ef9ba754bb71125d7dcca"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">CM</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="var">u</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="GraphTheory.mgraph2.html#par2edgeunit"><span class="id" title="lemma">par2edgeunit</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#isop_step"><span class="id" title="instance">isop_step</span></a>. <span class="id" title="tactic">exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#add_vlabel2_unit"><span class="id" title="lemma">add_vlabel2_unit</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#unit_graph2_iso"><span class="id" title="instance">unit_graph2_iso</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="GraphTheory.pttdom.html#reduce_shuffle"><span class="id" title="lemma">reduce_shuffle</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#isop_step"><span class="id" title="instance">isop_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#one_step"><span class="id" title="instance">one_step</span></a>, (<a class="idref" href="GraphTheory.rewriting.html#step_e2"><span class="id" title="constructor">step_e2</span></a> (<span class="id" title="var">G</span>:=<a class="idref" href="GraphTheory.mgraph2.html#two_graph2"><span class="id" title="definition">two_graph2</span></a> (<span class="id" title="var">a</span><a class="idref" href="GraphTheory.structures.html#c11b60d97e1ef9ba754bb71125d7dcca"><span class="id" title="notation">⊗</span></a><span class="id" title="var">c</span>)%<span class="id" title="var">CM</span> (<span class="id" title="var">b</span><a class="idref" href="GraphTheory.structures.html#c11b60d97e1ef9ba754bb71125d7dcca"><span class="id" title="notation">⊗</span></a><span class="id" title="var">d</span>)%<span class="id" title="var">CM</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <span class="id" title="var">u</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="GraphTheory.reduction.html#par_edges"><span class="id" title="lemma">par_edges</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.reduction.html#cnv_steps"><span class="id" title="instance">cnv_steps</span></a>, <span class="id" title="var">IHu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="GraphTheory.pttdom.html#nt"><span class="id" title="definition">nt</span></a> <span class="id" title="var">u</span>)=&gt;[<span class="id" title="var">a</span>|<span class="id" title="var">a</span> <span class="id" title="var">v</span> <span class="id" title="var">b</span>]=&gt;//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#isop_step"><span class="id" title="instance">isop_step</span></a>. <span class="id" title="tactic">exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">refine</span> (<a class="idref" href="GraphTheory.mgraph2.html#iso_iso2"><span class="id" title="lemma">iso_iso2</span></a> (<a class="idref" href="GraphTheory.mgraph.html#add_edge_rev"><span class="id" title="lemma">add_edge_rev</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GraphTheory.reduction.html#eqvEcnv"><span class="id" title="lemma">eqvEcnv</span></a>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.pttdom.html#Pttdom.Exports.cnvI"><span class="id" title="definition">cnvI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span>: (<a class="idref" href="GraphTheory.mgraph2.html#add_edge2_iso"><span class="id" title="lemma">add_edge2_iso</span></a> (<a class="idref" href="GraphTheory.mgraph2.html#iso_iso2"><span class="id" title="lemma">iso_iso2</span></a> (<a class="idref" href="GraphTheory.mgraph.html#union_C"><span class="id" title="lemma">union_C</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.reduction.html#dom_steps"><span class="id" title="instance">dom_steps</span></a>, <span class="id" title="var">IHu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="GraphTheory.pttdom.html#nt"><span class="id" title="definition">nt</span></a> <span class="id" title="var">u</span>)=&gt;[<span class="id" title="var">a</span>|<span class="id" title="var">a</span> <span class="id" title="var">v</span> <span class="id" title="var">b</span>]=&gt;//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#one_step"><span class="id" title="instance">one_step</span></a>, (@<a class="idref" href="GraphTheory.rewriting.html#step_v1"><span class="id" title="constructor">step_v1</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GraphTheory.mgraph2.html#unit_graph2"><span class="id" title="definition">unit_graph2</span></a> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="var">v</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.rewriting.html#isop_step"><span class="id" title="instance">isop_step</span></a>. <span class="id" title="tactic">exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#add_vlabel2_unit"><span class="id" title="lemma">add_vlabel2_unit</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="GraphTheory.mgraph2.html#unit_graph2_iso"><span class="id" title="instance">unit_graph2_iso</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>. <span class="comment">(*&nbsp;reflexivity&nbsp;fails&nbsp;...&nbsp;*)</span><br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="GraphTheory.reduction.html#s'"><span class="id" title="section">s'</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
